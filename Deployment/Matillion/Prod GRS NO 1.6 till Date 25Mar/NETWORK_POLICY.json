{"dbEnvironment":"snowflake","version":"1.50.6","jobsTree":{"id":1199,"name":"ROOT","children":[{"id":1482,"name":"NETWORK_POLICY","children":[],"jobs":[{"id":1483,"name":"NETWORK_POLICY","description":"","type":"ORCHESTRATION","tag":"bb91d796-057f-406e-826d-b52dc3830299"},{"id":1512,"name":"Load NETWORK_POLICY","description":"","type":"TRANSFORMATION","tag":"e9012dbf-766f-4047-a4de-32417542941f"}]}],"jobs":[]},"orchestrationJobs":[{"id":1483,"revision":9,"created":1611940542179,"timestamp":1611940542179,"components":{"1487":{"id":1487,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":315,"y":160,"width":32,"height":32,"inputConnectorIDs":[1511],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1488":{"id":1488,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":960,"y":-160,"width":32,"height":32,"inputConnectorIDs":[1545],"outputSuccessConnectorIDs":[1546],"outputFailureConnectorIDs":[1507],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Build IP Ranges"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible:\n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Udating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\nsf = context.cursor()\n\n# get KeyMap Columns\n\n\ndef getip(environ):\n    try:\n#        cmd = \"select IP_RANGE from ODS_REFERENCE.BASE.NETWORK_POLICY where \"+environ+\"_ACTIVEFLAG=true order by to_number(split_part(parse_ip(ip_range,\\'CIDR\\'):host,\\'.\\',1));\"\n        cmd = \"select IP_RANGE from ODS_REFERENCE.BASE.NETWORK_POLICY where \"+environ+\"_ACTIVEFLAG=true order by ip_range;\"\n        print(\"getip cmd:  \",cmd)\n        sf.execute(cmd)\n        IPRANGE = sf.fetchall()\n        print(IPRANGE)\n    except:\n        IPRANGE = []\n    return IPRANGE\n\n\nif __name__ == '__main__':\n\n    # Get IP Ranges from Snowflake table ODS_REFERENCE.BASE.NETWORK_POLICY for this environment and build a string to \\\n    # use in a create network policy command\n    IPRANGE = (getip(env_name))\n    print(\"IPRANGE:  \",IPRANGE)\n    if len(IPRANGE) == 0:\n      emptyRC = \"empty set returned \"\n      raise Exception (emptyRC)\n      \n    IPR_STR = [\"'\"+i[0]+\"'\" for i in IPRANGE]\n    print(\"IPR_STR:  \",IPR_STR)\n    IPR = ', '.join(IPR_STR)\n    print(\"IPR:  \",IPR)\n    try:\n      context.updateVariable('NetworkPolicy', IPR)\n    except:\n      setRC = \"error on Job Variable set\"\n      raise Exception (setRC)\n            "}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1489":{"id":1489,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":1120,"y":-160,"width":32,"height":32,"inputConnectorIDs":[1546],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[1503],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Network Policy"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"use role ACCOUNTADMIN;\ncreate or replace network policy AZURE_WHITELIST allowed_ip_list = (\n'65.51.228.0/24',\n${NetworkPolicy}\n);\ndesc network policy AZURE_WHITELIST;\nuse role DATA_LOADER;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1490":{"id":1490,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":800,"y":-160,"width":32,"height":32,"inputConnectorIDs":[1504],"outputSuccessConnectorIDs":[1545],"outputFailureConnectorIDs":[1506],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Load NETWORK_POLICY"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Load NETWORK_POLICY"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1491":{"id":1491,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-160,"y":-160,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[1505],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1492":{"id":1492,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":960,"y":0,"width":32,"height":32,"inputConnectorIDs":[1507],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 3"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1493":{"id":1493,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":160,"y":160,"width":32,"height":32,"inputConnectorIDs":[1509],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1494":{"id":1494,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":235671163,"x":638,"y":-159,"width":32,"height":32,"inputConnectorIDs":[1542,1548],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[1504],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1495":{"id":1495,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1897708330,"x":320,"y":0,"width":32,"height":32,"inputConnectorIDs":[1543],"outputSuccessConnectorIDs":[1548],"outputFailureConnectorIDs":[1511],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Stage File"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Basic"}}}},"visible":true},"6":{"slot":6,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Upload"}}}},"visible":true},"7":{"slot":7,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"}}}},"visible":true},"8":{"slot":8,"name":"Data Source Filter","elements":{},"visible":true},"9":{"slot":9,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"10":{"slot":10,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT ..."}}}},"visible":false},"11":{"slot":11,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"12":{"slot":12,"name":"Connection Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"RowScanDepth"},"2":{"slot":2,"type":"STRING","value":"100"}}}},"visible":true},"13":{"slot":13,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"14":{"slot":14,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"15":{"slot":15,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"16":{"slot":16,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"17":{"slot":17,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"18":{"slot":18,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Excel"}}}},"visible":false},"400":{"slot":400,"name":"Storage URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"azure://${env_storage}/${ContainerName}/EU Network Policy Builder.xlsx"}}}},"visible":true},"401":{"slot":401,"name":"Cell Range","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"A*:F*"}}}},"visible":true},"402":{"slot":402,"name":"Contains Header Row","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"403":{"slot":403,"name":"Credentials","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"498":{"slot":498,"name":"Storage Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Azure Blob Storage"}}}},"visible":true},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"5"}}}},"visible":true},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Snowflake Managed"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1496":{"id":1496,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":800,"y":0,"width":32,"height":32,"inputConnectorIDs":[1506],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1497":{"id":1497,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":237373210,"x":160,"y":0,"width":32,"height":32,"inputConnectorIDs":[1547],"outputSuccessConnectorIDs":[1543],"outputFailureConnectorIDs":[1509],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Truncate STG"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"4":{"slot":4,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"5":{"slot":5,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"6":{"slot":6,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1498":{"id":1498,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":320,"y":-160,"width":32,"height":32,"inputConnectorIDs":[1544],"outputSuccessConnectorIDs":[1549],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create Stage"}}}},"visible":true},"2":{"slot":2,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AZURE_IP"}}}},"visible":true},"5":{"slot":5,"name":"Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"APPLICATION"},"2":{"slot":2,"type":"STRING","value":"VARIANT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"Yes"},"7":{"slot":7,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"7":{"slot":7,"name":"Clustering Keys","elements":{},"visible":true},"8":{"slot":8,"name":"Data Retention Time in Days","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"9":{"slot":9,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"11":{"slot":11,"name":"Primary Keys","elements":{},"visible":true},"12":{"slot":12,"name":"Table Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Permanent"}}}},"visible":true},"13":{"slot":13,"name":"Default DDL Collation","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1499":{"id":1499,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":1280,"y":-320,"width":32,"height":32,"inputConnectorIDs":[1502],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1500":{"id":1500,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576616,"x":160,"y":-160,"width":32,"height":32,"inputConnectorIDs":[1501],"outputSuccessConnectorIDs":[1544],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Bash Get Azure IPs"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are exported into bash, but should be considered read-only: \n#    echo $myvar\n###\n\nset -e\n\nINITIALURL=\"https://www.microsoft.com/en-in/download/confirmation.aspx?id=56519\"\n\n# Calls the initial download confirmation page and rips out the manual download URL\nOUT=$(curl -s \"${INITIALURL}\" | grep -Eo '\"https://[^\"]*ServiceTags_Public[^\"]*\"'|head -n 1|cut -d '\"' -f 2)\n\n# Downloads the actual data file (JSON format) and write it to the Matillion Unix box\ncurl -s -f \"${OUT}\" -o \"/tmp/ServiceTags_Public.json\"\n\n# Copies the downloaded file to Azure blob storage\naz storage blob upload --file \"/tmp/ServiceTags_Public.json\" --container-name stg-reference --name \"ServiceTags_Public.json\" --account-name \"$env_storage\" --sas-token \"$env_sas_token\"\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1536":{"id":1536,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":1280,"y":0,"width":32,"height":32,"inputConnectorIDs":[1510],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 4"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1537":{"id":1537,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":0,"y":0,"width":32,"height":32,"inputConnectorIDs":[1550],"outputSuccessConnectorIDs":[1547],"outputFailureConnectorIDs":[1508],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create NETWORK_POLICY Table"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"use ROLE SYSADMIN;\nuse database \"ODS_REFERENCE\";\nuse SCHEMA \"BASE\";\n\nCREATE TABLE if not exists \"NETWORK_POLICY\" (\n\tIP_RANGE varchar(45) NOT NULL,\n\tCATEGORY varchar(200),\n\tNOTES varchar(1000),\n\tDEV_ACTIVEFLAG boolean,\n\tTEST_ACTIVEFLAG boolean,\n\tPROD_ACTIVEFLAG boolean,\n\tODS_SRC_SYSTEM_ID NUMBER(38,0) NOT NULL,\n\tODS_CREATEDBY VARCHAR(255) NOT NULL DEFAULT CURRENT_USER(),\n\tODS_CREATEDBY_TIMESTAMP TIMESTAMP_LTZ(9) NOT NULL DEFAULT CURRENT_TIMESTAMP(),\n\tODS_MODIFIEDBY VARCHAR(255) NOT NULL DEFAULT CURRENT_USER(),\n\tODS_MODIFIEDBY_TIMESTAMP TIMESTAMP_LTZ(9) NOT NULL DEFAULT CURRENT_TIMESTAMP(),\n\tconstraint PK_NETWORK_POLICY primary key (IP_RANGE)\n)\n;\nuse role DATA_LOADER;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1538":{"id":1538,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1989138124,"x":480,"y":-160,"width":32,"height":32,"inputConnectorIDs":[1549],"outputSuccessConnectorIDs":[1542],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Stage Azure IPs"}}}},"visible":true},"4":{"slot":4,"name":"Azure Storage Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"azure://${env_storage}/stg-reference/"}}}},"visible":true},"5":{"slot":5,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"8":{"slot":8,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AZURE_IP"}}}},"visible":true},"9":{"slot":9,"name":"Load Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"APPLICATION"}}}},"visible":true},"10":{"slot":10,"name":"Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"11":{"slot":11,"name":"File Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JSON"}}}},"visible":true},"12":{"slot":12,"name":"Compression","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AUTO"}}}},"visible":true},"20":{"slot":20,"name":"Record Delimiter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"21":{"slot":21,"name":"Field Delimiter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"22":{"slot":22,"name":"Skip Header","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":false},"23":{"slot":23,"name":"Date Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"24":{"slot":24,"name":"Time Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"25":{"slot":25,"name":"Timestamp Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"26":{"slot":26,"name":"","elements":{},"visible":false},"27":{"slot":27,"name":"Escape","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"28":{"slot":28,"name":"Escape Unenclosed Field","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"29":{"slot":29,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"30":{"slot":30,"name":"Field Optionally Enclosed","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"31":{"slot":31,"name":"Null If","elements":{},"visible":false},"32":{"slot":32,"name":"Error On Column Count Mismatch","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"33":{"slot":33,"name":"Empty Field as Null","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":false},"34":{"slot":34,"name":"Encoding Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"35":{"slot":35,"name":"Skip Blank Lines","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"36":{"slot":36,"name":"Replace Invalid Characters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"40":{"slot":40,"name":"Enable Octal","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"41":{"slot":41,"name":"Allow Duplicates","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"42":{"slot":42,"name":"Strip Outer Array","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"43":{"slot":43,"name":"Strip Null Values","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"44":{"slot":44,"name":"Ignore UTF8 Errors","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"45":{"slot":45,"name":"Nest Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"46":{"slot":46,"name":"Null If","elements":{},"visible":true},"47":{"slot":47,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"50":{"slot":50,"name":"Null If","elements":{},"visible":false},"51":{"slot":51,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"60":{"slot":60,"name":"Ignore UTF8 Errors","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"61":{"slot":61,"name":"Preserve Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"62":{"slot":62,"name":"Strip Outer Element","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"63":{"slot":63,"name":"Disable Snowflake Data","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"64":{"slot":64,"name":"Disable Auto Convert","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"66":{"slot":66,"name":"Null If","elements":{},"visible":false},"67":{"slot":67,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"70":{"slot":70,"name":"Null If","elements":{},"visible":false},"71":{"slot":71,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"120":{"slot":120,"name":"On Error","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Abort Statement"}}}},"visible":true},"121":{"slot":121,"name":"n","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":false},"122":{"slot":122,"name":"Size Limit (B)","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"123":{"slot":123,"name":"Purge Files","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"124":{"slot":124,"name":"Truncate Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"125":{"slot":125,"name":"Force Load","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":true},"126":{"slot":126,"name":"Match By Column Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"200":{"slot":200,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"201":{"slot":201,"name":"Pattern","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ServiceTags_Public.json"}}}},"visible":true},"203":{"slot":203,"name":"Metadata Fields","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1539":{"id":1539,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":1280,"y":-160,"width":32,"height":32,"inputConnectorIDs":[1503],"outputSuccessConnectorIDs":[1502],"outputFailureConnectorIDs":[1510],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Role Data_Loader 2"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"use role DATA_LOADER;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1540":{"id":1540,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":0,"y":160,"width":32,"height":32,"inputConnectorIDs":[1508],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 5"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1541":{"id":1541,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":0,"y":-160,"width":32,"height":32,"inputConnectorIDs":[1505],"outputSuccessConnectorIDs":[1501,1550],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Role Data_Loader"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"use role ACCOUNTADMIN;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"1542":{"id":1542,"sourceID":1538,"targetID":1494},"1543":{"id":1543,"sourceID":1497,"targetID":1495},"1544":{"id":1544,"sourceID":1500,"targetID":1498},"1545":{"id":1545,"sourceID":1490,"targetID":1488},"1546":{"id":1546,"sourceID":1488,"targetID":1489},"1547":{"id":1547,"sourceID":1537,"targetID":1497},"1548":{"id":1548,"sourceID":1495,"targetID":1494},"1501":{"id":1501,"sourceID":1541,"targetID":1500},"1549":{"id":1549,"sourceID":1498,"targetID":1538},"1502":{"id":1502,"sourceID":1539,"targetID":1499},"1550":{"id":1550,"sourceID":1541,"targetID":1537}},"failureConnectors":{"1506":{"id":1506,"sourceID":1490,"targetID":1496},"1507":{"id":1507,"sourceID":1488,"targetID":1492},"1508":{"id":1508,"sourceID":1537,"targetID":1540},"1509":{"id":1509,"sourceID":1497,"targetID":1493},"1510":{"id":1510,"sourceID":1539,"targetID":1536},"1511":{"id":1511,"sourceID":1495,"targetID":1487}},"unconditionalConnectors":{"1504":{"id":1504,"sourceID":1494,"targetID":1490},"1505":{"id":1505,"sourceID":1491,"targetID":1541},"1503":{"id":1503,"sourceID":1489,"targetID":1539}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":true,"undoCommand":"Edit Note","undoCreated":1611940522947,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"1484":{"id":1484,"x":87,"y":-472,"width":467,"height":387,"text":"This downloads a specific file.  Azure has deprecated its predecessor, so keeping up will be an issue.\n\nThis renames the downloaded file to a standard name.\n\nUsing the Azure instance credentials in the script would be better than the SAS token, which will expire.\n\nBlob loader requires an existing target table.","colour":"e6e63c"},"1485":{"id":1485,"x":1047,"y":-312,"width":144,"height":226,"text":"**``NOTE``**\n\nIncludes Elmsford as a default/safety!!  65.51.228.0/24\n","colour":"00ce4f"},"1486":{"id":1486,"x":-555,"y":-235,"width":308,"height":148,"text":"**``CHANGE HISTORY``**\n\n20200123:  Created.  (BRR)\n20200925:  Changes to handle mixed case.  (BRR)\n","colour":"00ce4f"}},"variables":{"FileName":{"definition":{"name":"FileName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"EU Network Policy Builder.xlsx"},"ContainerName":{"definition":{"name":"ContainerName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"stg-reference"},"NetworkPolicy":{"definition":{"name":"NetworkPolicy","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"'65.51.228.0/24'"}},"grids":{}}],"transformationJobs":[{"id":1512,"revision":6,"created":1611940536098,"timestamp":1611940536098,"components":{"1514":{"id":1514,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":-1848704949,"x":1440,"y":160,"width":32,"height":32,"inputConnectorIDs":[1535],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"UPDATE"}}}},"visible":true},"200":{"slot":200,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"201":{"slot":201,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"202":{"slot":202,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_REFERENCE"}}}},"visible":true},"203":{"slot":203,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"204":{"slot":204,"name":"Target Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"tgt"}}}},"visible":true},"205":{"slot":205,"name":"Source Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"src"}}}},"visible":true},"206":{"slot":206,"name":"Join Expression","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"tgt\".\"IP_RANGE\" = \"src\".\"IP_RANGE\""},"2":{"slot":2,"type":"STRING","value":"Join"}}}},"visible":true},"207":{"slot":207,"name":"When Matched","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"src\".\"Indicator\" in ('C')"},"2":{"slot":2,"type":"STRING","value":"Update"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"\"src\".\"Indicator\" in ('D')"},"2":{"slot":2,"type":"STRING","value":"Delete"}}}},"visible":true},"208":{"slot":208,"name":"Update Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"compare_CATEGORY"},"2":{"slot":2,"type":"STRING","value":"CATEGORY"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"compare_NOTES"},"2":{"slot":2,"type":"STRING","value":"NOTES"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"compare_DEV_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"compare_TEST_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"compare_PROD_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"PROD_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"DW_SRC_SYSTEM_ID"},"2":{"slot":2,"type":"STRING","value":"ODS_SRC_SYSTEM_ID"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"DW_MODIFIEDBY"},"2":{"slot":2,"type":"STRING","value":"ODS_MODIFIEDBY"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"DW_MODIFIEDBY_TIMESTAMP"},"2":{"slot":2,"type":"STRING","value":"ODS_MODIFIEDBY_TIMESTAMP"}}}},"visible":true},"209":{"slot":209,"name":"Include Not Matched","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"210":{"slot":210,"name":"Insert Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"},"2":{"slot":2,"type":"STRING","value":"IP_RANGE"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"compare_CATEGORY"},"2":{"slot":2,"type":"STRING","value":"CATEGORY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"compare_NOTES"},"2":{"slot":2,"type":"STRING","value":"NOTES"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"compare_DEV_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"compare_TEST_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"compare_PROD_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"PROD_ACTIVEFLAG"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"DW_SRC_SYSTEM_ID"},"2":{"slot":2,"type":"STRING","value":"ODS_SRC_SYSTEM_ID"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"DW_MODIFIEDBY"},"2":{"slot":2,"type":"STRING","value":"ODS_MODIFIEDBY"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"DW_MODIFIEDBY_TIMESTAMP"},"2":{"slot":2,"type":"STRING","value":"ODS_MODIFIEDBY_TIMESTAMP"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1515":{"id":1515,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":-160,"y":160,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[1553],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1516":{"id":1516,"inputCardinality":"TWO","outputCardinality":"MANY","implementationID":-359894709,"x":960,"y":160,"width":32,"height":32,"inputConnectorIDs":[1552,1559],"outputConnectorIDs":[1554],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Detect Changes"}}}},"visible":true},"2":{"slot":2,"name":"Master Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Detect NETWORK_POLICY"}}}},"visible":true},"3":{"slot":3,"name":"Match Keys","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}}},"visible":true},"4":{"slot":4,"name":"Compare Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"}}}},"visible":true},"5":{"slot":5,"name":"Output Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"compare_CATEGORY"},"2":{"slot":2,"type":"STRING","value":"compare_CATEGORY"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"compare_NOTES"},"2":{"slot":2,"type":"STRING","value":"compare_NOTES"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"compare_DEV_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"compare_DEV_ACTIVEFLAG"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"compare_TEST_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"compare_TEST_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"compare_PROD_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"compare_PROD_ACTIVEFLAG"}}}},"visible":true},"6":{"slot":6,"name":"Indicator Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1517":{"id":1517,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1935486466,"x":640,"y":320,"width":32,"height":32,"inputConnectorIDs":[1532],"outputConnectorIDs":[1530],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"First/Last 0"}}}},"visible":true},"2":{"slot":2,"name":"Grouping Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}}},"visible":true},"3":{"slot":3,"name":"Ordering within partitions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"},"2":{"slot":2,"type":"STRING","value":"Nulls Last"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"},"2":{"slot":2,"type":"STRING","value":"Nulls Last"}}}},"visible":true},"4":{"slot":4,"name":"First/Last Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"},"2":{"slot":2,"type":"STRING","value":"First"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"},"2":{"slot":2,"type":"STRING","value":"First"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"First"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"First"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"First"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1518":{"id":1518,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":-160,"y":320,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[1533],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AZURE_IP"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AZURE_IP"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"APPLICATION"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1519":{"id":1519,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":960,"y":320,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[1552],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Detect NETWORK_POLICY"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_SRC_SYSTEM_ID"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_CREATEDBY"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_CREATEDBY_TIMESTAMP"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_MODIFIEDBY"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_MODIFIEDBY_TIMESTAMP"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_REFERENCE"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1520":{"id":1520,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":1280,"y":160,"width":32,"height":32,"inputConnectorIDs":[1551],"outputConnectorIDs":[1535],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEFAULTS"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENT_TIMESTAMP()"},"2":{"slot":2,"type":"STRING","value":"DW_MODIFIEDBY_TIMESTAMP"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENT_USER()\t\t"},"2":{"slot":2,"type":"STRING","value":"DW_MODIFIEDBY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"0"},"2":{"slot":2,"type":"STRING","value":"DW_SRC_SYSTEM_ID"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1521":{"id":1521,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":160,"y":160,"width":32,"height":32,"inputConnectorIDs":[1555],"outputConnectorIDs":[1557],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ACTIVEFLAG"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TO_BOOLEAN(\"DEV_ACTIVEFLAG\")"},"2":{"slot":2,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"TO_BOOLEAN(\"TEST_ACTIVEFLAG\")"},"2":{"slot":2,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"TO_BOOLEAN(\"PROD_ACTIVEFLAG\")"},"2":{"slot":2,"type":"STRING","value":"PROD_ACTIVEFLAG"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1522":{"id":1522,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":0,"y":160,"width":32,"height":32,"inputConnectorIDs":[1553],"outputConnectorIDs":[1555],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Not Azure"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"},"2":{"slot":2,"type":"STRING","value":"Not"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"Azure"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1523":{"id":1523,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":1120,"y":160,"width":32,"height":32,"inputConnectorIDs":[1554],"outputConnectorIDs":[1551],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"N, C, or D"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"N"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"C"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"D"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OR"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1524":{"id":1524,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1838652813,"x":800,"y":160,"width":32,"height":32,"inputConnectorIDs":[1558],"outputConnectorIDs":[1559],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Convert Type 0"}}}},"visible":true},"2":{"slot":2,"name":"Conversions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"45"},"4":{"slot":4,"type":"INTEGER","value":""}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"200"},"4":{"slot":4,"type":"INTEGER","value":""}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"1000"},"4":{"slot":4,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1525":{"id":1525,"inputCardinality":"ZERO_OR_MANY","outputCardinality":"MANY","implementationID":-1266674941,"x":0,"y":320,"width":32,"height":32,"inputConnectorIDs":[1533],"outputConnectorIDs":[1534],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SQL Flatten"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT \n\t\"f1\".VALUE:name::varchar as \"NAME\",\n\t\"f1\".VALUE:properties:platform::varchar as \"PLATFORM\",\n\t\"f1\".VALUE:properties:region::varchar as \"REGION\",\n\t\"f1\".VALUE:properties:systemService::varchar as \"SYSTEMSERVICE\",\n\t\"f2\".VALUE::varchar as \"IP_RANGE\"\nFROM \n\t$T{AZURE_IP} \"FLATTEN_VARIANT_INPUT\",\n\tlateral flatten(input=>\"FLATTEN_VARIANT_INPUT\".\"APPLICATION\":values, mode => 'array') \"f1\",\n\tlateral flatten(input=>\"f1\".VALUE:properties:addressPrefixes, mode => 'array') \"f2\""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1526":{"id":1526,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":320,"y":320,"width":32,"height":32,"inputConnectorIDs":[1556],"outputConnectorIDs":[1531],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Clean-up"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"PLATFORM\""},"2":{"slot":2,"type":"STRING","value":"CATEGORY"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"\"SYSTEMSERVICE\"||' '||\"REGION\""},"2":{"slot":2,"type":"STRING","value":"NOTES"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"true::boolean"},"2":{"slot":2,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"true::boolean"},"2":{"slot":2,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"true::boolean"},"2":{"slot":2,"type":"STRING","value":"PROD_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"CONTAINS(\"IP_RANGE\", ':')"},"2":{"slot":2,"type":"STRING","value":"IPV6_FLAG"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1527":{"id":1527,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":160,"y":320,"width":32,"height":32,"inputConnectorIDs":[1534],"outputConnectorIDs":[1556],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AzureCloud Only"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NAME"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"AzureCloud.westeurope"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"NAME"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"DataFactory"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OR"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1528":{"id":1528,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":480,"y":320,"width":32,"height":32,"inputConnectorIDs":[1531],"outputConnectorIDs":[1532],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Remove IPv6"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IPV6_FLAG"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"False"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1529":{"id":1529,"inputCardinality":"MANY","outputCardinality":"MANY","implementationID":-1841822228,"x":640,"y":160,"width":32,"height":32,"inputConnectorIDs":[1557,1530],"outputConnectorIDs":[1558],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Union"}}}},"visible":true},"2":{"slot":2,"name":"Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Overlapping Columns"}}}},"visible":true},"3":{"slot":3,"name":"Cast Types","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"4":{"slot":4,"name":"Add Source Component Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"5":{"slot":5,"name":"Remove duplicates","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"1551":{"id":1551,"sourceID":1523,"targetID":1520},"1552":{"id":1552,"sourceID":1519,"targetID":1516},"1553":{"id":1553,"sourceID":1515,"targetID":1522},"1554":{"id":1554,"sourceID":1516,"targetID":1523},"1555":{"id":1555,"sourceID":1522,"targetID":1521},"1556":{"id":1556,"sourceID":1527,"targetID":1526},"1557":{"id":1557,"sourceID":1521,"targetID":1529},"1558":{"id":1558,"sourceID":1529,"targetID":1524},"1559":{"id":1559,"sourceID":1524,"targetID":1516},"1530":{"id":1530,"sourceID":1517,"targetID":1529},"1531":{"id":1531,"sourceID":1526,"targetID":1528},"1532":{"id":1532,"sourceID":1528,"targetID":1517},"1533":{"id":1533,"sourceID":1518,"targetID":1525},"1534":{"id":1534,"sourceID":1525,"targetID":1527},"1535":{"id":1535,"sourceID":1520,"targetID":1514}},"canUndo":true,"undoCommand":"Edit Note","undoCreated":1611940261163,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"1513":{"id":1513,"x":-555,"y":85,"width":308,"height":148,"text":"**``CHANGE HISTORY``**\n\n2020013:  Created (BRR)\n20200618:  Replaced Flatten Variant component with SQL component due to Matillion bug.  (BRR)\n20200917:  Added support to remove IPv6 ranges from Azure.  (BRR)\n20210129:  Added support for Azure Data Factory. (BRR)","colour":"00ce4f"}},"noteConnectors":{},"variables":{},"grids":{}}],"variables":[{"name":"env_account","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_monitor_email","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_password","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_sas_token","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_storage","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_username","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"}],"environments":[{"index":0,"name":"securitasprod-west-europe","instanceCredentials":true,"credentialsName":"","awsCredentialsId":-1,"gcCredentialsId":-1,"azureCredentialsId":0,"schema":"BASE","encrypted":false,"url":"securitas.west-europe.azure","port":"WH_DATA_LOAD","database":"DW","driver":null,"user":"MATILLION_USER","passwordName":"","passphraseName":"","role":"DATA_LOADER","variables":{"env_name":"PROD","env_monitor_email":"naresh.bawankar@securitas.com;santhosh.tm@securitas.com;jon.skvagerson@securitas.com;","env_password":"Matty_2018$$!!","env_username":"MATILLION_USER","env_account":"securitasprod.west-europe.azure","env_sas_token":"?sv=2019-12-12&ss=btqf&srt=sco&st=2021-01-28T18%3A59%3A58Z&se=2023-01-29T18%3A59%3A00Z&sp=rwdxftlacup&sig=y7pfgmcMpVA6cbHo4KtkxIWddVAAgGufO3kffA1N4%2F8%3D","env_storage":"prodwewhstore"},"defaultStorageLocation":"","concurrentConnections":16,"passwordType":"PASSWORD","connectionOptions":{},"defaultEnvironment":false}]}