{"dbEnvironment":"snowflake","version":"1.50.6","jobsTree":{"id":6572,"name":"ROOT","children":[{"id":6857,"name":"NETWORK_POLICY","children":[],"jobs":[{"id":6858,"name":"NETWORK_POLICY","description":"","type":"ORCHESTRATION","tag":"83cc3d08-6460-4221-a809-b8491d420fa6"},{"id":6913,"name":"Load NETWORK_POLICY","description":"","type":"TRANSFORMATION","tag":"6fb0ad4f-1488-40db-8610-d875ef3ff99f"}]}],"jobs":[]},"orchestrationJobs":[{"id":6858,"revision":2,"created":1611343816548,"timestamp":1611343816548,"components":{"6862":{"id":6862,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":315,"y":160,"width":32,"height":32,"inputConnectorIDs":[6900],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6863":{"id":6863,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":1120,"y":-160,"width":32,"height":32,"inputConnectorIDs":[6886],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[6893],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Network Policy"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"use role ACCOUNTADMIN;\ncreate or replace network policy AZURE_WHITELIST allowed_ip_list = (\n'65.51.228.0/24',\n${NetworkPolicy}\n);\ndesc network policy AZURE_WHITELIST;\nuse role DATA_LOADER;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6864":{"id":6864,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":960,"y":-160,"width":32,"height":32,"inputConnectorIDs":[6885],"outputSuccessConnectorIDs":[6886],"outputFailureConnectorIDs":[6898],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Build IP Ranges"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible:\n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Udating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\nsf = context.cursor()\n\n# get KeyMap Columns\n\n\ndef getip(environ):\n    try:\n#        cmd = \"select IP_RANGE from ODS_REFERENCE.BASE.NETWORK_POLICY where \"+environ+\"_ACTIVEFLAG=true order by to_number(split_part(parse_ip(ip_range,\\'CIDR\\'):host,\\'.\\',1));\"\n        cmd = \"select IP_RANGE from ODS_REFERENCE.BASE.NETWORK_POLICY where \"+environ+\"_ACTIVEFLAG=true order by ip_range;\"\n        print(\"getip cmd:  \",cmd)\n        sf.execute(cmd)\n        IPRANGE = sf.fetchall()\n        print(IPRANGE)\n    except:\n        IPRANGE = []\n    return IPRANGE\n\n\nif __name__ == '__main__':\n\n    # Get IP Ranges from Snowflake table ODS_REFERENCE.BASE.NETWORK_POLICY for this environment and build a string to \\\n    # use in a create network policy command\n    IPRANGE = (getip(env_name))\n    print(\"IPRANGE:  \",IPRANGE)\n    if len(IPRANGE) == 0:\n      emptyRC = \"empty set returned \"\n      raise Exception (emptyRC)\n      \n    IPR_STR = [\"'\"+i[0]+\"'\" for i in IPRANGE]\n    print(\"IPR_STR:  \",IPR_STR)\n    IPR = ', '.join(IPR_STR)\n    print(\"IPR:  \",IPR)\n    try:\n      context.updateVariable('NetworkPolicy', IPR)\n    except:\n      setRC = \"error on Job Variable set\"\n      raise Exception (setRC)\n            "}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6865":{"id":6865,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-160,"y":-160,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[6895],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6866":{"id":6866,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":800,"y":-160,"width":32,"height":32,"inputConnectorIDs":[6894],"outputSuccessConnectorIDs":[6885],"outputFailureConnectorIDs":[6897],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Load NETWORK_POLICY"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Load NETWORK_POLICY"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6867":{"id":6867,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":160,"y":160,"width":32,"height":32,"inputConnectorIDs":[6896],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6868":{"id":6868,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":960,"y":0,"width":32,"height":32,"inputConnectorIDs":[6898],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 3"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6869":{"id":6869,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1897708330,"x":320,"y":0,"width":32,"height":32,"inputConnectorIDs":[6883],"outputSuccessConnectorIDs":[6888],"outputFailureConnectorIDs":[6900],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Stage File"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Basic"}}}},"visible":true},"6":{"slot":6,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Upload"}}}},"visible":true},"7":{"slot":7,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"}}}},"visible":true},"8":{"slot":8,"name":"Data Source Filter","elements":{},"visible":true},"9":{"slot":9,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"10":{"slot":10,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT ..."}}}},"visible":false},"11":{"slot":11,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"12":{"slot":12,"name":"Connection Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"RowScanDepth"},"2":{"slot":2,"type":"STRING","value":"100"}}}},"visible":true},"13":{"slot":13,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"14":{"slot":14,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"15":{"slot":15,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"16":{"slot":16,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"17":{"slot":17,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"18":{"slot":18,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Excel"}}}},"visible":false},"400":{"slot":400,"name":"Storage URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"azure://devwewhstore/stg-reference/EU Network Policy Builder.xlsx"}}}},"visible":true},"401":{"slot":401,"name":"Cell Range","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"A*:F*"}}}},"visible":true},"402":{"slot":402,"name":"Contains Header Row","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"498":{"slot":498,"name":"Storage Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Azure Blob Storage"}}}},"visible":true},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"5"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Snowflake Managed"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6870":{"id":6870,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":235671163,"x":638,"y":-159,"width":32,"height":32,"inputConnectorIDs":[6882,6888],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[6894],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6871":{"id":6871,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":237373210,"x":160,"y":0,"width":32,"height":32,"inputConnectorIDs":[6887],"outputSuccessConnectorIDs":[6883],"outputFailureConnectorIDs":[6896],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Truncate STG"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"4":{"slot":4,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"5":{"slot":5,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"6":{"slot":6,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6872":{"id":6872,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":800,"y":0,"width":32,"height":32,"inputConnectorIDs":[6897],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6873":{"id":6873,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":320,"y":-160,"width":32,"height":32,"inputConnectorIDs":[6884],"outputSuccessConnectorIDs":[6889],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create Stage"}}}},"visible":true},"2":{"slot":2,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AZURE_IP"}}}},"visible":true},"5":{"slot":5,"name":"Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"APPLICATION"},"2":{"slot":2,"type":"STRING","value":"VARIANT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"Yes"},"7":{"slot":7,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"7":{"slot":7,"name":"Clustering Keys","elements":{},"visible":true},"8":{"slot":8,"name":"Data Retention Time in Days","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"9":{"slot":9,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"11":{"slot":11,"name":"Primary Keys","elements":{},"visible":true},"12":{"slot":12,"name":"Table Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Permanent"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6874":{"id":6874,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576616,"x":160,"y":-160,"width":32,"height":32,"inputConnectorIDs":[6891],"outputSuccessConnectorIDs":[6884],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Bash Get Azure IPs"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are exported into bash, but should be considered read-only: \n#    echo $myvar\n###\n\nset -e\n\nINITIALURL=\"https://www.microsoft.com/en-in/download/confirmation.aspx?id=56519\"\n\n# Calls the initial download confirmation page and rips out the manual download URL\nOUT=$(curl -s \"${INITIALURL}\" | grep -Eo '\"https://[^\"]*ServiceTags_Public[^\"]*\"'|head -n 1|cut -d '\"' -f 2)\n\n# Downloads the actual data file (JSON format) and write it to the Matillion Unix box\ncurl -s -f \"${OUT}\" -o \"/tmp/ServiceTags_Public.json\"\n\n# Copies the downloaded file to Azure blob storage\naz storage blob upload --file \"/tmp/ServiceTags_Public.json\" --container-name stg-reference --name \"ServiceTags_Public.json\" --account-name \"$env_storage\" --sas-token \"$env_sas_token\"\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6875":{"id":6875,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":1280,"y":-320,"width":32,"height":32,"inputConnectorIDs":[6892],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6876":{"id":6876,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":0,"y":0,"width":32,"height":32,"inputConnectorIDs":[6890],"outputSuccessConnectorIDs":[6887],"outputFailureConnectorIDs":[6912],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create NETWORK_POLICY Table"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"use ROLE SYSADMIN;\nuse database \"ODS_REFERENCE\";\nuse SCHEMA \"BASE\";\n\nCREATE TABLE if not exists \"NETWORK_POLICY\" (\n\tIP_RANGE varchar(45) NOT NULL,\n\tCATEGORY varchar(200),\n\tNOTES varchar(1000),\n\tDEV_ACTIVEFLAG boolean,\n\tTEST_ACTIVEFLAG boolean,\n\tPROD_ACTIVEFLAG boolean,\n\tODS_SRC_SYSTEM_ID NUMBER(38,0) NOT NULL,\n\tODS_CREATEDBY VARCHAR(255) NOT NULL DEFAULT CURRENT_USER(),\n\tODS_CREATEDBY_TIMESTAMP TIMESTAMP_LTZ(9) NOT NULL DEFAULT CURRENT_TIMESTAMP(),\n\tODS_MODIFIEDBY VARCHAR(255) NOT NULL DEFAULT CURRENT_USER(),\n\tODS_MODIFIEDBY_TIMESTAMP TIMESTAMP_LTZ(9) NOT NULL DEFAULT CURRENT_TIMESTAMP(),\n\tconstraint PK_NETWORK_POLICY primary key (IP_RANGE)\n)\n;\nuse role SYSADMIN;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6877":{"id":6877,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":1280,"y":0,"width":32,"height":32,"inputConnectorIDs":[6899],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 4"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6878":{"id":6878,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":1280,"y":-160,"width":32,"height":32,"inputConnectorIDs":[6893],"outputSuccessConnectorIDs":[6892],"outputFailureConnectorIDs":[6899],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Role Data_Loader 2"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"use role DATA_LOADER;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6879":{"id":6879,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1989138124,"x":480,"y":-160,"width":32,"height":32,"inputConnectorIDs":[6889],"outputSuccessConnectorIDs":[6882],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Stage Azure IPs"}}}},"visible":true},"4":{"slot":4,"name":"Azure Storage Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"azure://${env_storage}/stg-reference/"}}}},"visible":true},"5":{"slot":5,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"8":{"slot":8,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AZURE_IP"}}}},"visible":true},"9":{"slot":9,"name":"Load Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"APPLICATION"}}}},"visible":true},"10":{"slot":10,"name":"Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"11":{"slot":11,"name":"File Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JSON"}}}},"visible":true},"12":{"slot":12,"name":"Compression","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AUTO"}}}},"visible":true},"20":{"slot":20,"name":"Record Delimiter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"21":{"slot":21,"name":"Field Delimiter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"22":{"slot":22,"name":"Skip Header","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":false},"23":{"slot":23,"name":"Date Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"24":{"slot":24,"name":"Time Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"25":{"slot":25,"name":"Timestamp Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"26":{"slot":26,"name":"","elements":{},"visible":false},"27":{"slot":27,"name":"Escape","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"28":{"slot":28,"name":"Escape Unenclosed Field","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"29":{"slot":29,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"30":{"slot":30,"name":"Field Optionally Enclosed","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":false},"31":{"slot":31,"name":"Null If","elements":{},"visible":false},"32":{"slot":32,"name":"Error On Column Count Mismatch","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"33":{"slot":33,"name":"Empty Field as Null","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":false},"34":{"slot":34,"name":"Encoding Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"35":{"slot":35,"name":"Skip Blank Lines","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"36":{"slot":36,"name":"Replace Invalid Characters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"40":{"slot":40,"name":"Enable Octal","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"41":{"slot":41,"name":"Allow Duplicates","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"42":{"slot":42,"name":"Strip Outer Array","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"43":{"slot":43,"name":"Strip Null Values","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"44":{"slot":44,"name":"Ignore UTF8 Errors","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"60":{"slot":60,"name":"Ignore UTF8 Errors","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"61":{"slot":61,"name":"Preserve Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"62":{"slot":62,"name":"Strip Outer Element","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"63":{"slot":63,"name":"Disable Snowflake Data","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"64":{"slot":64,"name":"Disable Auto Convert","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"120":{"slot":120,"name":"On Error","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Abort Statement"}}}},"visible":true},"121":{"slot":121,"name":"n","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":false},"122":{"slot":122,"name":"Size Limit (B)","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"123":{"slot":123,"name":"Purge Files","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"124":{"slot":124,"name":"Truncate Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"125":{"slot":125,"name":"Force Load","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":true},"200":{"slot":200,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"201":{"slot":201,"name":"Pattern","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ServiceTags_Public.json"}}}},"visible":true},"203":{"slot":203,"name":"Metadata Fields","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6880":{"id":6880,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":0,"y":-160,"width":32,"height":32,"inputConnectorIDs":[6895],"outputSuccessConnectorIDs":[6890,6891],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Role Data_Loader"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"use ROLE SYSADMIN;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6881":{"id":6881,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":0,"y":160,"width":32,"height":32,"inputConnectorIDs":[6912],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 5"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"6882":{"id":6882,"sourceID":6879,"targetID":6870},"6883":{"id":6883,"sourceID":6871,"targetID":6869},"6884":{"id":6884,"sourceID":6874,"targetID":6873},"6885":{"id":6885,"sourceID":6866,"targetID":6864},"6886":{"id":6886,"sourceID":6864,"targetID":6863},"6887":{"id":6887,"sourceID":6876,"targetID":6871},"6888":{"id":6888,"sourceID":6869,"targetID":6870},"6889":{"id":6889,"sourceID":6873,"targetID":6879},"6890":{"id":6890,"sourceID":6880,"targetID":6876},"6891":{"id":6891,"sourceID":6880,"targetID":6874},"6892":{"id":6892,"sourceID":6878,"targetID":6875}},"failureConnectors":{"6896":{"id":6896,"sourceID":6871,"targetID":6867},"6912":{"id":6912,"sourceID":6876,"targetID":6881},"6897":{"id":6897,"sourceID":6866,"targetID":6872},"6898":{"id":6898,"sourceID":6864,"targetID":6868},"6899":{"id":6899,"sourceID":6878,"targetID":6877},"6900":{"id":6900,"sourceID":6869,"targetID":6862}},"unconditionalConnectors":{"6893":{"id":6893,"sourceID":6863,"targetID":6878},"6894":{"id":6894,"sourceID":6870,"targetID":6866},"6895":{"id":6895,"sourceID":6865,"targetID":6880}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":false,"undoCommand":"","undoCreated":-1,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"6859":{"id":6859,"x":1047,"y":-312,"width":144,"height":226,"text":"**``NOTE``**\n\nIncludes Elmsford as a default/safety!!  65.51.228.0/24\n","colour":"00ce4f"},"6860":{"id":6860,"x":87,"y":-472,"width":467,"height":387,"text":"This downloads a specific file.  Azure has deprecated its predecessor, so keeping up will be an issue.\n\nThis renames the downloaded file to a standard name.\n\nUsing the Azure instance credentials in the script would be better than the SAS token, which will expire.\n\nBlob loader requires an existing target table.","colour":"e6e63c"},"6861":{"id":6861,"x":-555,"y":-235,"width":308,"height":148,"text":"**``CHANGE HISTORY``**\n\n20200123:  Created.  (BRR)\n20200925:  Changes to handle mixed case.  (BRR)","colour":"00ce4f"}},"variables":{"NetworkPolicy":{"definition":{"name":"NetworkPolicy","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"'65.51.228.0/24'"}},"grids":{}}],"transformationJobs":[{"id":6913,"revision":2,"created":1611343816560,"timestamp":1611343816560,"components":{"6915":{"id":6915,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":-160,"y":160,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[6936],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6916":{"id":6916,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":-1848704949,"x":1440,"y":160,"width":32,"height":32,"inputConnectorIDs":[6933],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"UPDATE"}}}},"visible":true},"200":{"slot":200,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"201":{"slot":201,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"202":{"slot":202,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_REFERENCE"}}}},"visible":true},"203":{"slot":203,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"204":{"slot":204,"name":"Target Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"tgt"}}}},"visible":true},"205":{"slot":205,"name":"Source Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"src"}}}},"visible":true},"206":{"slot":206,"name":"Join Expression","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"tgt\".\"IP_RANGE\" = \"src\".\"IP_RANGE\""},"2":{"slot":2,"type":"STRING","value":"Join"}}}},"visible":true},"207":{"slot":207,"name":"When Matched","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"src\".\"Indicator\" in ('C')"},"2":{"slot":2,"type":"STRING","value":"Update"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"\"src\".\"Indicator\" in ('D')"},"2":{"slot":2,"type":"STRING","value":"Delete"}}}},"visible":true},"208":{"slot":208,"name":"Update Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"compare_CATEGORY"},"2":{"slot":2,"type":"STRING","value":"CATEGORY"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"compare_NOTES"},"2":{"slot":2,"type":"STRING","value":"NOTES"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"compare_DEV_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"compare_TEST_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"compare_PROD_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"PROD_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"DW_SRC_SYSTEM_ID"},"2":{"slot":2,"type":"STRING","value":"ODS_SRC_SYSTEM_ID"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"DW_MODIFIEDBY"},"2":{"slot":2,"type":"STRING","value":"ODS_MODIFIEDBY"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"DW_MODIFIEDBY_TIMESTAMP"},"2":{"slot":2,"type":"STRING","value":"ODS_MODIFIEDBY_TIMESTAMP"}}}},"visible":true},"209":{"slot":209,"name":"Include Not Matched","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"210":{"slot":210,"name":"Insert Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"},"2":{"slot":2,"type":"STRING","value":"IP_RANGE"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"compare_CATEGORY"},"2":{"slot":2,"type":"STRING","value":"CATEGORY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"compare_NOTES"},"2":{"slot":2,"type":"STRING","value":"NOTES"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"compare_DEV_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"compare_TEST_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"compare_PROD_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"PROD_ACTIVEFLAG"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"DW_SRC_SYSTEM_ID"},"2":{"slot":2,"type":"STRING","value":"ODS_SRC_SYSTEM_ID"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"DW_MODIFIEDBY"},"2":{"slot":2,"type":"STRING","value":"ODS_MODIFIEDBY"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"DW_MODIFIEDBY_TIMESTAMP"},"2":{"slot":2,"type":"STRING","value":"ODS_MODIFIEDBY_TIMESTAMP"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6917":{"id":6917,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1935486466,"x":640,"y":320,"width":32,"height":32,"inputConnectorIDs":[6945],"outputConnectorIDs":[6943],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"First/Last 0"}}}},"visible":true},"2":{"slot":2,"name":"Grouping Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}}},"visible":true},"3":{"slot":3,"name":"Ordering within partitions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"},"2":{"slot":2,"type":"STRING","value":"Nulls Last"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"},"2":{"slot":2,"type":"STRING","value":"Nulls Last"}}}},"visible":true},"4":{"slot":4,"name":"First/Last Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"},"2":{"slot":2,"type":"STRING","value":"First"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"},"2":{"slot":2,"type":"STRING","value":"First"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"First"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"First"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"First"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6918":{"id":6918,"inputCardinality":"TWO","outputCardinality":"MANY","implementationID":-359894709,"x":960,"y":160,"width":32,"height":32,"inputConnectorIDs":[6935,6942],"outputConnectorIDs":[6937],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Detect Changes"}}}},"visible":true},"2":{"slot":2,"name":"Master Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Detect NETWORK_POLICY"}}}},"visible":true},"3":{"slot":3,"name":"Match Keys","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}}},"visible":true},"4":{"slot":4,"name":"Compare Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"}}}},"visible":true},"5":{"slot":5,"name":"Output Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"compare_CATEGORY"},"2":{"slot":2,"type":"STRING","value":"compare_CATEGORY"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"compare_NOTES"},"2":{"slot":2,"type":"STRING","value":"compare_NOTES"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"compare_DEV_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"compare_DEV_ACTIVEFLAG"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"compare_TEST_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"compare_TEST_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"compare_PROD_ACTIVEFLAG"},"2":{"slot":2,"type":"STRING","value":"compare_PROD_ACTIVEFLAG"}}}},"visible":true},"6":{"slot":6,"name":"Indicator Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6919":{"id":6919,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":960,"y":320,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[6935],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Detect NETWORK_POLICY"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NETWORK_POLICY"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"PROD_ACTIVEFLAG"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_SRC_SYSTEM_ID"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_CREATEDBY"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_CREATEDBY_TIMESTAMP"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_MODIFIEDBY"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_MODIFIEDBY_TIMESTAMP"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_REFERENCE"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6920":{"id":6920,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":-160,"y":320,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[6931],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AZURE_IP"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AZURE_IP"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"APPLICATION"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"BASE"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STG_REFERENCE"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6921":{"id":6921,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":160,"y":160,"width":32,"height":32,"inputConnectorIDs":[6938],"outputConnectorIDs":[6940],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ACTIVEFLAG"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TO_BOOLEAN(\"DEV_ACTIVEFLAG\")"},"2":{"slot":2,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"TO_BOOLEAN(\"TEST_ACTIVEFLAG\")"},"2":{"slot":2,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"TO_BOOLEAN(\"PROD_ACTIVEFLAG\")"},"2":{"slot":2,"type":"STRING","value":"PROD_ACTIVEFLAG"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6922":{"id":6922,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":1280,"y":160,"width":32,"height":32,"inputConnectorIDs":[6934],"outputConnectorIDs":[6933],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEFAULTS"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENT_TIMESTAMP()"},"2":{"slot":2,"type":"STRING","value":"DW_MODIFIEDBY_TIMESTAMP"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENT_USER()\t\t"},"2":{"slot":2,"type":"STRING","value":"DW_MODIFIEDBY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"0"},"2":{"slot":2,"type":"STRING","value":"DW_SRC_SYSTEM_ID"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6923":{"id":6923,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":1120,"y":160,"width":32,"height":32,"inputConnectorIDs":[6937],"outputConnectorIDs":[6934],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"N, C, or D"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"N"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"C"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"D"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OR"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6924":{"id":6924,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":0,"y":160,"width":32,"height":32,"inputConnectorIDs":[6936],"outputConnectorIDs":[6938],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Not Azure"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"},"2":{"slot":2,"type":"STRING","value":"Not"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"Azure"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6925":{"id":6925,"inputCardinality":"ZERO_OR_MANY","outputCardinality":"MANY","implementationID":-1266674941,"x":0,"y":320,"width":32,"height":32,"inputConnectorIDs":[6931],"outputConnectorIDs":[6932],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SQL Flatten"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT \n\t\"f1\".VALUE:name::varchar as \"NAME\",\n\t\"f1\".VALUE:properties:platform::varchar as \"PLATFORM\",\n\t\"f1\".VALUE:properties:region::varchar as \"REGION\",\n\t\"f1\".VALUE:properties:systemService::varchar as \"SYSTEMSERVICE\",\n\t\"f2\".VALUE::varchar as \"IP_RANGE\"\nFROM \n\t$T{AZURE_IP} \"FLATTEN_VARIANT_INPUT\",\n\tlateral flatten(input=>\"FLATTEN_VARIANT_INPUT\".\"APPLICATION\":values, mode => 'array') \"f1\",\n\tlateral flatten(input=>\"f1\".VALUE:properties:addressPrefixes, mode => 'array') \"f2\""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6926":{"id":6926,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1838652813,"x":800,"y":160,"width":32,"height":32,"inputConnectorIDs":[6941],"outputConnectorIDs":[6942],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Convert Type 0"}}}},"visible":true},"2":{"slot":2,"name":"Conversions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IP_RANGE"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"45"},"4":{"slot":4,"type":"INTEGER","value":""}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CATEGORY"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"200"},"4":{"slot":4,"type":"INTEGER","value":""}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"NOTES"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"1000"},"4":{"slot":4,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6927":{"id":6927,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":160,"y":320,"width":32,"height":32,"inputConnectorIDs":[6932],"outputConnectorIDs":[6939],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AzureCloud Only"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NAME"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"AzureCloud.westeurope"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6928":{"id":6928,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":320,"y":320,"width":32,"height":32,"inputConnectorIDs":[6939],"outputConnectorIDs":[6944],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Clean-up"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"PLATFORM\""},"2":{"slot":2,"type":"STRING","value":"CATEGORY"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"\"SYSTEMSERVICE\"||' '||\"REGION\""},"2":{"slot":2,"type":"STRING","value":"NOTES"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"true::boolean"},"2":{"slot":2,"type":"STRING","value":"DEV_ACTIVEFLAG"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"true::boolean"},"2":{"slot":2,"type":"STRING","value":"TEST_ACTIVEFLAG"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"true::boolean"},"2":{"slot":2,"type":"STRING","value":"PROD_ACTIVEFLAG"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"CONTAINS(\"IP_RANGE\", ':')"},"2":{"slot":2,"type":"STRING","value":"IPV6_FLAG"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6929":{"id":6929,"inputCardinality":"MANY","outputCardinality":"MANY","implementationID":-1841822228,"x":640,"y":160,"width":32,"height":32,"inputConnectorIDs":[6940,6943],"outputConnectorIDs":[6941],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Union"}}}},"visible":true},"2":{"slot":2,"name":"Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Overlapping Columns"}}}},"visible":true},"3":{"slot":3,"name":"Cast Types","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"4":{"slot":4,"name":"Add Source Component Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"5":{"slot":5,"name":"Remove duplicates","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6930":{"id":6930,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":480,"y":320,"width":32,"height":32,"inputConnectorIDs":[6944],"outputConnectorIDs":[6945],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Remove IPv6"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IPV6_FLAG"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"False"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"6944":{"id":6944,"sourceID":6928,"targetID":6930},"6945":{"id":6945,"sourceID":6930,"targetID":6917},"6931":{"id":6931,"sourceID":6920,"targetID":6925},"6932":{"id":6932,"sourceID":6925,"targetID":6927},"6933":{"id":6933,"sourceID":6922,"targetID":6916},"6934":{"id":6934,"sourceID":6923,"targetID":6922},"6935":{"id":6935,"sourceID":6919,"targetID":6918},"6936":{"id":6936,"sourceID":6915,"targetID":6924},"6937":{"id":6937,"sourceID":6918,"targetID":6923},"6938":{"id":6938,"sourceID":6924,"targetID":6921},"6939":{"id":6939,"sourceID":6927,"targetID":6928},"6940":{"id":6940,"sourceID":6921,"targetID":6929},"6941":{"id":6941,"sourceID":6929,"targetID":6926},"6942":{"id":6942,"sourceID":6926,"targetID":6918},"6943":{"id":6943,"sourceID":6917,"targetID":6929}},"canUndo":false,"undoCommand":"","undoCreated":-1,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"6914":{"id":6914,"x":-555,"y":85,"width":308,"height":148,"text":"**``CHANGE HISTORY``**\n\n2020013:  Created (BRR)\n20200618:  Replaced Flatten Variant component with SQL component due to Matillion bug.  (BRR)\n20200917:  Added support to remove IPv6 ranges from Azure.  (BRR)","colour":"00ce4f"}},"noteConnectors":{},"variables":{},"grids":{}}],"variables":[{"name":"env_account","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_monitor_email","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_password","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_sas_token","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_storage","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},{"name":"env_username","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"}],"environments":[{"index":0,"name":"securitastest-west-europe MAT User","instanceCredentials":true,"credentialsName":"","awsCredentialsId":-1,"gcCredentialsId":-1,"azureCredentialsId":0,"schema":"BASE","encrypted":false,"url":"securitastest.west-europe.azure","port":"WH_DATA_LOAD","database":"AUDIT","driver":null,"user":"MATUSER","passwordName":"","passphraseName":"","role":"ACCOUNTADMIN","variables":{"env_name":"DEV","env_monitor_email":"naresh.bawankar@securitas.com;santhosh.tm@securitas.com","env_password":"","env_username":"MATILLION_USER","env_account":"securitasdev.west-europe.azure","env_sas_token":"?sv=2019-07-07&ss=btqf&srt=sco&st=2020-09-25T15%3A33%3A33Z&se=2022-09-26T15%3A33%3A00Z&sp=rwdlacup&sig=9N6EITMw7l3ujhP7UrDq%2F7PQQ7K0mGj8usrIfpAWDro%3D","env_storage":"devwewhstore"},"defaultStorageLocation":"","concurrentConnections":4,"passwordType":"PASSWORD","connectionOptions":{},"defaultEnvironment":false}]}