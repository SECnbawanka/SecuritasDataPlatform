{"dbEnvironment":"snowflake","version":"1.47.9","jobsTree":{"id":16369,"name":"ROOT","children":[{"id":108707,"name":"KONTROLSYS","children":[],"jobs":[{"id":117733,"name":"CSVFileLoadSystem","description":"Load CSV File to StageSystem","type":"ORCHESTRATION","tag":"17adb93f-27b4-403c-9153-7608df679188"},{"id":129642,"name":"CSVFileStageODSLoadProcess","description":"Create the table As-Is ODS metadata and replacing the Binary (VARIANT) to Varchar. Data Load from CSV files to KONTROLSYS GRSNO STG tables.","type":"ORCHESTRATION","tag":"b8c956c8-e28a-496f-929b-15059c143466"},{"id":239708,"name":"CreateCSVFileList","description":"Get list of Azure Blob Files, create a file of them, Load that file into a table.","type":"ORCHESTRATION","tag":"99ac545b-8772-4d3d-be0c-ca3b2fe150be"},{"id":255805,"name":"Remove Restricted Data","description":"Remove Restricted/Red List  Data","type":"ORCHESTRATION","tag":"0fabc16e-55dc-4c17-b640-8eacee6ff2ec"},{"id":273749,"name":"CSVFileProcess","description":"CSVFileProcess","type":"ORCHESTRATION","tag":"25155052-21f3-4b2e-85fd-c850fb615559"}]}],"jobs":[]},"orchestrationJobs":[{"id":117733,"revision":486,"created":1608216992437,"timestamp":1608216992437,"components":{"117732":{"id":117732,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-224,"y":160,"width":32,"height":32,"inputConnectorIDs":[242085],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"117734":{"id":117734,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-576,"y":-16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[260226],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"117737":{"id":117737,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1155583855,"x":-48,"y":-16,"width":32,"height":32,"inputConnectorIDs":[242105],"outputSuccessConnectorIDs":[256061],"outputFailureConnectorIDs":[117763],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Get LoadProcess List"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"4":{"slot":4,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"6":{"slot":6,"name":"Table Columns","elements":{},"visible":false},"7":{"slot":7,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select\nSourceSystemId\t,\n--SourceTableName||'_20*.*'\tCSVFileName,\n--'KONTROLSYS_'||SourceTableName||'_20*.*'\tCSVFileName,\n'KONTROLSYS_'||SourceTableName||'_20.*'\tCSVFileFormat,\nStageType\t,\nStageDatabaseName\t,\nStageSchemaName\t,\nStageTableName\t,\nODSDatabaseName\t,\nODSSchemaName\t,\nODSTableName\t,\nSourceSystemName\nfrom \ndw.control.SOURCESYSTEM_LOADPROCESS3\nWHERE LOADPROCESS_ACTIVEFLAG=true \nAND sourcesystemid=${SourceSystemId}\n--AND ODSTableName in ('CONTRACT','BASEFILE')\norder by ODSTableName"}}}},"visible":true},"8":{"slot":8,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"LoadTableList"}}}},"visible":true},"9":{"slot":9,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCESYSTEMID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFILEFORMAT"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"STAGETYPE"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"STAGEDATABASENAME"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"STAGESCHEMANAME"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"STAGETABLENAME"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDATABASENAME"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSCHEMANAME"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTABLENAME"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCESYSTEMNAME"}}}},"visible":true},"10":{"slot":10,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"11":{"slot":11,"name":"Order By","elements":{},"visible":false},"12":{"slot":12,"name":"Sort","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Ascending"}}}},"visible":false},"20":{"slot":20,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"117738":{"id":117738,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-48,"y":160,"width":32,"height":32,"inputConnectorIDs":[117763],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"117739":{"id":117739,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":288,"y":-16,"width":32,"height":32,"inputConnectorIDs":[256169],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"121999":{"id":121999,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":96,"y":160,"width":32,"height":32,"inputConnectorIDs":[256172],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 3"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"216442":{"id":216442,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1348346479,"x":-432,"y":-16,"width":32,"height":32,"inputConnectorIDs":[260226],"outputSuccessConnectorIDs":[242081],"outputFailureConnectorIDs":[216489],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Restricted Data Load"}}}},"visible":true},"2":{"slot":2,"name":"SYSTEMNAME","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceSystemName}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"216482":{"id":216482,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-432,"y":160,"width":32,"height":32,"inputConnectorIDs":[216489],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"241275":{"id":241275,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-224,"y":-16,"width":32,"height":32,"inputConnectorIDs":[242081],"outputSuccessConnectorIDs":[242105],"outputFailureConnectorIDs":[242085],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create Blob FileList"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CreateCSVFileList"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ContainerName"},"2":{"slot":2,"type":"STRING","value":"${ContainerName}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"StageDatabaseName"},"2":{"slot":2,"type":"STRING","value":"${StageDatabaseName}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"StageSchemaName"},"2":{"slot":2,"type":"STRING","value":"${StageSchemaName}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"255748":{"id":255748,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":96,"y":-16,"width":32,"height":16,"inputConnectorIDs":[256061],"outputSuccessConnectorIDs":[256169],"outputFailureConnectorIDs":[256172],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Loop parameter List - Stage"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"LoadTableList"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemId"},"2":{"slot":2,"type":"STRING","value":"SourceSystemId"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFileFormat"},"2":{"slot":2,"type":"STRING","value":"CSVFileFormat"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"StageType"},"2":{"slot":2,"type":"STRING","value":"StageType"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"StageDatabaseName"},"2":{"slot":2,"type":"STRING","value":"StageDatabaseName"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"StageSchemaName"},"2":{"slot":2,"type":"STRING","value":"StageSchemaName"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"StageTableName"},"2":{"slot":2,"type":"STRING","value":"StageTableName"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDatabaseName"},"2":{"slot":2,"type":"STRING","value":"ODSDatabaseName"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSchemaName"},"2":{"slot":2,"type":"STRING","value":"ODSSchemaName"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTableName"},"2":{"slot":2,"type":"STRING","value":"ODSTableName"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemName"},"2":{"slot":2,"type":"STRING","value":"SourceSystemName"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":false},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Concurrent"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[256021],"inputIterationConnectorIDs":[]},"255798":{"id":255798,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":96,"y":16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFileProcess"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFileProcess"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemId"},"2":{"slot":2,"type":"STRING","value":"${SourceSystemId}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFileFormat"},"2":{"slot":2,"type":"STRING","value":"${CSVFileFormat}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"StageType"},"2":{"slot":2,"type":"STRING","value":"${StageType}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"StageDatabaseName"},"2":{"slot":2,"type":"STRING","value":"${StageDatabaseName}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"StageSchemaName"},"2":{"slot":2,"type":"STRING","value":"${StageSchemaName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"StageTableName"},"2":{"slot":2,"type":"STRING","value":"${StageTableName}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDatabaseName"},"2":{"slot":2,"type":"STRING","value":"${ODSDatabaseName}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSchemaName"},"2":{"slot":2,"type":"STRING","value":"${ODSSchemaName}"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTableName"},"2":{"slot":2,"type":"STRING","value":"${ODSTableName}"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemName"},"2":{"slot":2,"type":"STRING","value":"${SourceSystemName}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[256021]}},"successConnectors":{"242081":{"id":242081,"sourceID":216442,"targetID":241275},"242105":{"id":242105,"sourceID":241275,"targetID":117737},"256169":{"id":256169,"sourceID":255748,"targetID":117739},"256061":{"id":256061,"sourceID":117737,"targetID":255748}},"failureConnectors":{"117763":{"id":117763,"sourceID":117737,"targetID":117738},"242085":{"id":242085,"sourceID":241275,"targetID":117732},"216489":{"id":216489,"sourceID":216442,"targetID":216482},"256172":{"id":256172,"sourceID":255748,"targetID":121999}},"unconditionalConnectors":{"260226":{"id":260226,"sourceID":117734,"targetID":216442}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"256021":{"id":256021,"sourceID":255748,"targetID":255798}},"noteConnectors":{},"canUndo":true,"undoCommand":"Enable Components","undoCreated":1608032331217,"canRedo":false,"redoCommand":"","redoCreated":1607436658368,"notes":{},"variables":{"StageType":{"definition":{"name":"StageType","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"FULL LOAD"},"Expressions":{"definition":{"name":"Expressions","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"SELECT CUSTOMER_ID from ODS_GRS_NO.DBO.CUSTOMER_RESTRICTED_DATA"},"IsRestricted":{"definition":{"name":"IsRestricted","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"TRUE"},"ODSTableName":{"definition":{"name":"ODSTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"CUSTOMER"},"CSVFileFormat":{"definition":{"name":"CSVFileFormat","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"KONTROLSYS_BaseFile_20%"},"ContainerName":{"definition":{"name":"ContainerName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"wh-outbound-unzipped"},"ODSSchemaName":{"definition":{"name":"ODSSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"DBO"},"SourceSystemId":{"definition":{"name":"SourceSystemId","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"3"},"StageTableName":{"definition":{"name":"StageTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"CUSTOMER"},"ODSDatabaseName":{"definition":{"name":"ODSDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"ODS_KONTROLSYS_NO"},"StageSchemaName":{"definition":{"name":"StageSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"DBO"},"SourceSchemaName":{"definition":{"name":"SourceSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"DBO"},"SourceSystemName":{"definition":{"name":"SourceSystemName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"KONTROLSYS"},"StageDatabaseName":{"definition":{"name":"StageDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"STG_KONTROLSYS_NO"},"RestrictedTablename":{"definition":{"name":"RestrictedTablename","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"CUSTOMER_RESTRICTED_DATA"},"RestrictedColumnName":{"definition":{"name":"RestrictedColumnName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"CUSTOMER_ID"}},"grids":{"LoadTableList":{"definition":{"name":"LoadTableList","scope":"BRANCH","definitions":[{"name":"SourceSystemId","type":"DECIMAL"},{"name":"CSVFileFormat","type":"TEXT"},{"name":"StageType","type":"TEXT"},{"name":"StageDatabaseName","type":"TEXT"},{"name":"StageSchemaName","type":"TEXT"},{"name":"StageTableName","type":"TEXT"},{"name":"ODSDatabaseName","type":"TEXT"},{"name":"ODSSchemaName","type":"TEXT"},{"name":"ODSTableName","type":"TEXT"},{"name":"SourceSystemName","type":"TEXT"}],"description":"LoadTableList","visibility":"PRIVATE"},"values":[]}}},{"id":129642,"revision":783,"created":1608124859272,"timestamp":1608124859272,"components":{"129644":{"id":129644,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-1120,"y":-144,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[266350],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"129645":{"id":129645,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":176,"y":0,"width":32,"height":32,"inputConnectorIDs":[285237],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"129646":{"id":129646,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-880,"y":0,"width":32,"height":32,"inputConnectorIDs":[136729],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"129647":{"id":129647,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-448,"y":0,"width":32,"height":32,"inputConnectorIDs":[262086],"outputSuccessConnectorIDs":[129667],"outputFailureConnectorIDs":[136742],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create Stage Table"}}}},"visible":true},"2":{"slot":2,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageDatabaseName}"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageSchemaName}"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageTableName}"}}}},"visible":true},"5":{"slot":5,"name":"Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"GRID","value":"ODSColumns"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"GRID","value":"Name"},"2":{"slot":2,"type":"GRID","value":"Type"},"3":{"slot":3,"type":"GRID","value":"Size"},"4":{"slot":4,"type":"GRID","value":"Precision"},"5":{"slot":5,"type":"GRID","value":"Default_Value"},"6":{"slot":6,"type":"GRID","value":"Not_Null"},"7":{"slot":7,"type":"GRID","value":"Unique"}}}},"visible":true},"6":{"slot":6,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"7":{"slot":7,"name":"Clustering Keys","elements":{},"visible":true},"8":{"slot":8,"name":"Data Retention Time in Days","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"9":{"slot":9,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"11":{"slot":11,"name":"Primary Keys","elements":{},"visible":true},"12":{"slot":12,"name":"Table Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Permanent"}}}},"visible":true},"13":{"slot":13,"name":"Default DDL Collation","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"129648":{"id":129648,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-448,"y":-144,"width":32,"height":32,"inputConnectorIDs":[264903],"outputSuccessConnectorIDs":[262086],"outputFailureConnectorIDs":[136732],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace BINARY Type Grid variable"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"import json \n###\n# Variables are directly accessible:\n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Udating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0] FULL PULL\n###\n# RestrictedColumnName='C1,C2' BINARY\n\n##access ODSColumns Grid Variable\nv_ODSColumn_IN=context.getGridVariable('ODSColumns')\nprint(\"v_ODSColumn_IN:  \",v_ODSColumn_IN)\nprint(ODSTableName)\nprint(StageTableName)\n\n#list = json.dumps(v_ODSColumn)\n#json.dumps() function converts a Python object into a json string. dumps takes an object and produces a string into collist \ncollist = json.dumps(context.getGridVariable('ODSColumns'))\n\n#print(\"listJson:  \",list)\n#load would take a file-like object, read the data from that object, and use that string to create an object\nReplaceTypeColumns = json.loads (collist.replace('VARIANT','VARCHAR'))\nprint(\"STGColumns intermediate variable:  \",ReplaceTypeColumns)\n\ncontext.updateGridVariable('ODSColumns',ReplaceTypeColumns)\nprint (\"ODSColumn_Final_column_List\", context.getGridVariable('ODSColumns'))\n\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"129649":{"id":129649,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":356330947,"x":-880,"y":-144,"width":32,"height":32,"inputConnectorIDs":[266372],"outputSuccessConnectorIDs":[137154],"outputFailureConnectorIDs":[136729],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ODSColumnsMetadata"}}}},"visible":true},"2":{"slot":2,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ODSDatabaseName}"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ODSSchemaName}"}}}},"visible":true},"5":{"slot":5,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ODSColumns"}}}},"visible":true},"6":{"slot":6,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Name"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Type"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Size"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"Precision"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Default Value"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Not Null"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"Unique"}}}},"visible":true},"7":{"slot":7,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ODSTableName}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"129650":{"id":129650,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1395699082,"x":-752,"y":-144,"width":32,"height":32,"inputConnectorIDs":[137154],"outputSuccessConnectorIDs":[264903],"outputFailureConnectorIDs":[136739],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Remove ODS Audit Fields"}}}},"visible":true},"2":{"slot":2,"name":"Target Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ODSColumns"}}}},"visible":true},"3":{"slot":3,"name":"Key Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Name"}}}},"visible":true},"4":{"slot":4,"name":"Operation","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Not In"}}}},"visible":true},"5":{"slot":5,"name":"Fixed/Grid","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Fixed"}}}},"visible":true},"6":{"slot":6,"name":"Values Grid","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_SRC_SYSTEM_ID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_CREATEDBY"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_MODIFIEDBY"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_MODIFIEDBY_TIMESTAMP"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"ODS_CREATEDBY_TIMESTAMP"}}}},"visible":true},"7":{"slot":7,"name":"Source Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STGColumns"}}}},"visible":false},"8":{"slot":8,"name":"Key Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"COLUMN_NAME"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"DATA_TYPE"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"LENGTH"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"PK"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"129665":{"id":129665,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1989138124,"x":-288,"y":0,"width":32,"height":32,"inputConnectorIDs":[129667],"outputSuccessConnectorIDs":[259992],"outputFailureConnectorIDs":[136741],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"StageFile Blob Storage"}}}},"visible":true},"4":{"slot":4,"name":"Azure Storage Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"azure://devwewhstore/wh-outbound-unzipped/"}}}},"visible":true},"5":{"slot":5,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageDatabaseName}"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageSchemaName}"}}}},"visible":true},"8":{"slot":8,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageTableName}"}}}},"visible":true},"9":{"slot":9,"name":"Load Columns","elements":{},"visible":true},"10":{"slot":10,"name":"Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"11":{"slot":11,"name":"File Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CSV"}}}},"visible":true},"12":{"slot":12,"name":"Compression","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AUTO"}}}},"visible":true},"20":{"slot":20,"name":"Record Delimiter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"21":{"slot":21,"name":"Field Delimiter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"|"}}}},"visible":true},"22":{"slot":22,"name":"Skip Header","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"1"}}}},"visible":true},"23":{"slot":23,"name":"Date Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"24":{"slot":24,"name":"Time Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"25":{"slot":25,"name":"Timestamp Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"26":{"slot":26,"name":"","elements":{},"visible":false},"27":{"slot":27,"name":"Escape","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"28":{"slot":28,"name":"Escape Unenclosed Field","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"29":{"slot":29,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":true},"30":{"slot":30,"name":"Field Optionally Enclosed","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\""}}}},"visible":true},"31":{"slot":31,"name":"Null If","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"32":{"slot":32,"name":"Error On Column Count Mismatch","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"33":{"slot":33,"name":"Empty Field as Null","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"34":{"slot":34,"name":"Encoding Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"35":{"slot":35,"name":"Skip Blank Lines","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"36":{"slot":36,"name":"Replace Invalid Characters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"40":{"slot":40,"name":"Enable Octal","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"41":{"slot":41,"name":"Allow Duplicates","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"42":{"slot":42,"name":"Strip Outer Array","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"43":{"slot":43,"name":"Strip Null Values","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"44":{"slot":44,"name":"Ignore UTF8 Errors","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"45":{"slot":45,"name":"Nest Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"46":{"slot":46,"name":"Null If","elements":{},"visible":false},"47":{"slot":47,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"50":{"slot":50,"name":"Null If","elements":{},"visible":false},"51":{"slot":51,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"60":{"slot":60,"name":"Ignore UTF8 Errors","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"61":{"slot":61,"name":"Preserve Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"62":{"slot":62,"name":"Strip Outer Element","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"63":{"slot":63,"name":"Disable Snowflake Data","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"64":{"slot":64,"name":"Disable Auto Convert","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"66":{"slot":66,"name":"Null If","elements":{},"visible":false},"67":{"slot":67,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"70":{"slot":70,"name":"Null If","elements":{},"visible":false},"71":{"slot":71,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"120":{"slot":120,"name":"On Error","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Abort Statement"}}}},"visible":true},"121":{"slot":121,"name":"n","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":false},"122":{"slot":122,"name":"Size Limit (B)","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"123":{"slot":123,"name":"Purge Files","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":true},"124":{"slot":124,"name":"Truncate Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"125":{"slot":125,"name":"Force Load","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"126":{"slot":126,"name":"Match By Column Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"200":{"slot":200,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"201":{"slot":201,"name":"Pattern","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${CSVFileName}"}}}},"visible":true},"203":{"slot":203,"name":"Metadata Fields","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"136709":{"id":136709,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-752,"y":0,"width":32,"height":32,"inputConnectorIDs":[136739],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"136711":{"id":136711,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-112,"y":-144,"width":32,"height":32,"inputConnectorIDs":[136732],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"136724":{"id":136724,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-448,"y":112,"width":32,"height":32,"inputConnectorIDs":[136742],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 3"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"136730":{"id":136730,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-288,"y":112,"width":32,"height":32,"inputConnectorIDs":[136741],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 4"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"259991":{"id":259991,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":991658961,"x":-144,"y":0,"width":32,"height":32,"inputConnectorIDs":[259992],"outputSuccessConnectorIDs":[285219],"outputFailureConnectorIDs":[260096],"outputUnconditionalConnectorIDs":[301273],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Remove Restricted Data"}}}},"visible":true},"2":{"slot":2,"name":"ContainerName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ContainerName}"}}}},"visible":true},"3":{"slot":3,"name":"CSVFileFormat","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${CSVFileFormat}"}}}},"visible":true},"4":{"slot":4,"name":"ODSDatabaseName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ODSDatabaseName}"}}}},"visible":true},"5":{"slot":5,"name":"ODSSchemaName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ODSSchemaName}"}}}},"visible":true},"6":{"slot":6,"name":"ODSTableName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ODSTableName}"}}}},"visible":true},"7":{"slot":7,"name":"SourceSystemId","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceSystemId}"}}}},"visible":true},"8":{"slot":8,"name":"SourceSystemName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceSystemName}"}}}},"visible":true},"9":{"slot":9,"name":"StageDatabaseName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageDatabaseName}"}}}},"visible":true},"10":{"slot":10,"name":"StageSchemaName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageSchemaName}"}}}},"visible":true},"11":{"slot":11,"name":"StageTableName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageTableName}"}}}},"visible":true},"12":{"slot":12,"name":"StageType","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageType}"}}}},"visible":true},"13":{"slot":13,"name":"DeleteProcess","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"260044":{"id":260044,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-144,"y":112,"width":32,"height":32,"inputConnectorIDs":[260096],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 5"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"261753":{"id":261753,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":32,"y":128,"width":32,"height":32,"inputConnectorIDs":[285226],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 7"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"266328":{"id":266328,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1155583855,"x":-1008,"y":-144,"width":32,"height":32,"inputConnectorIDs":[266350],"outputSuccessConnectorIDs":[266372,272470],"outputFailureConnectorIDs":[275395],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"LoadProcess"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"4":{"slot":4,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"6":{"slot":6,"name":"Table Columns","elements":{},"visible":false},"7":{"slot":7,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select\nSOURCESYSTEMID,\nSTAGEDATABASENAME,\nSTAGESCHEMANAME,\nSTAGETABLENAME,\nODSDATABASENAME,\nODSSCHEMANAME,\nODSTABLENAME,\nSTAGETYPE,\nLOADTYPE,\nCOLUMNLISTEXP\nfrom dw.control.sourcesystem_loadprocess3\nwhere sourcesystem_activeflag=true\nand loadprocess_activeflag=true\nand SOURCESYSTEMID = ${SourceSystemId}\nand concat(ODSTABLENAME,'_20') = Upper(substr('${CSVFileName}', 12,length(concat(ODSTABLENAME,'_20'))))\n--and ODSTABLENAME = Upper(substr('${CSVFileName}', 12,length(ODSTABLENAME)))\n--and regexp_like(Upper(split_part('${CSVFileName}','_',2)),ODSTABLENAME)\n--and regexp_like(Upper(split_part('KONTROLSYS_BaseFile_20201207_091418_0.csv','_',2)),ODSTABLENAME)\n--and regexp_like(Upper(substr('KONTROLSYS_TicketInspection_Bus_20201213_203349_0.csv', 12)),'TICKETINSPECTION_BUS.*')\n--and regexp_like(Upper(substr('${CSVFileName}', 12)),'${ODSTableName}.*')\norder by loadtype asc"}}}},"visible":true},"8":{"slot":8,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"LoadProcess"}}}},"visible":true},"9":{"slot":9,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCESYSTEMID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"STAGETYPE"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"STAGEDATABASENAME"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"STAGESCHEMANAME"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"STAGETABLENAME"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDATABASENAME"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSCHEMANAME"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTABLENAME"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"LOADTYPE"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"COLUMNLISTEXP"}}}},"visible":true},"10":{"slot":10,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"11":{"slot":11,"name":"Order By","elements":{},"visible":false},"12":{"slot":12,"name":"Sort","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Ascending"}}}},"visible":false},"20":{"slot":20,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"266381":{"id":266381,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-1008,"y":0,"width":32,"height":32,"inputConnectorIDs":[275395],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 8"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"272469":{"id":272469,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-1008,"y":-224,"width":32,"height":32,"inputConnectorIDs":[272470],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python Script 0"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\nprint(ColumnListExp)\nprint(CSVFileName)\nprint(ODSTableName)\nprint(StageTableName)\nprint(LoadType)\nv_ColumnListExp=context.getGridVariable('LoadProcess')\n\nprint('v_ColumnListExp : ', v_ColumnListExp)"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"282767":{"id":282767,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":32,"y":-112,"width":32,"height":32,"inputConnectorIDs":[301273],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python varianle print"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n### \nprint('Select',ColumnListExp )\nprint(StageDatabaseName)\nprint(StageSchemaName)\nprint(StageTableName)"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"285131":{"id":285131,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":32,"y":0,"width":32,"height":16,"inputConnectorIDs":[285219],"outputSuccessConnectorIDs":[285237],"outputFailureConnectorIDs":[285226],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grid Iterator 0"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"LoadProcess"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemId"},"2":{"slot":2,"type":"STRING","value":"SourceSystemId"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"StageType"},"2":{"slot":2,"type":"STRING","value":"StageType"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"StageDatabaseName"},"2":{"slot":2,"type":"STRING","value":"StageDatabaseName"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"StageSchemaName"},"2":{"slot":2,"type":"STRING","value":"StageSchemaName"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"StageTableName"},"2":{"slot":2,"type":"STRING","value":"StageTableName"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDatabaseName"},"2":{"slot":2,"type":"STRING","value":"ODSDatabaseName"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSchemaName"},"2":{"slot":2,"type":"STRING","value":"ODSSchemaName"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTableName"},"2":{"slot":2,"type":"STRING","value":"ODSTableName"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"LoadType"},"2":{"slot":2,"type":"STRING","value":"LoadType"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"ColumnListExp"},"2":{"slot":2,"type":"STRING","value":"ColumnListExp"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[300573],"inputIterationConnectorIDs":[]},"300414":{"id":300414,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-740423399,"x":32,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"LoadObject_STG_ODS 1"}}}},"visible":true},"2":{"slot":2,"name":"LoadType","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${LoadType}"}}}},"visible":true},"3":{"slot":3,"name":"ODSTableName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ODSTableName}"}}}},"visible":true},"4":{"slot":4,"name":"ColumnListExp","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ColumnListExp}"}}}},"visible":true},"5":{"slot":5,"name":"ODSSchemaName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ODSSchemaName}"}}}},"visible":true},"6":{"slot":6,"name":"SourceSystemId","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceSystemId}"}}}},"visible":true},"7":{"slot":7,"name":"StageTableName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageTableName}"}}}},"visible":true},"8":{"slot":8,"name":"ODSDatabaseName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ODSDatabaseName}"}}}},"visible":true},"9":{"slot":9,"name":"StageSchemaName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageSchemaName}"}}}},"visible":true},"10":{"slot":10,"name":"StageDatabaseName","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageDatabaseName}"}}}},"visible":true},"11":{"slot":11,"name":"Constraints","elements":{},"visible":true},"12":{"slot":12,"name":"ColumnListExp","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[300573]}},"successConnectors":{"137154":{"id":137154,"sourceID":129649,"targetID":129650},"266372":{"id":266372,"sourceID":266328,"targetID":129649},"285237":{"id":285237,"sourceID":285131,"targetID":129645},"129667":{"id":129667,"sourceID":129647,"targetID":129665},"272470":{"id":272470,"sourceID":266328,"targetID":272469},"264903":{"id":264903,"sourceID":129650,"targetID":129648},"262086":{"id":262086,"sourceID":129648,"targetID":129647},"285219":{"id":285219,"sourceID":259991,"targetID":285131},"259992":{"id":259992,"sourceID":129665,"targetID":259991}},"failureConnectors":{"136739":{"id":136739,"sourceID":129650,"targetID":136709},"260096":{"id":260096,"sourceID":259991,"targetID":260044},"136742":{"id":136742,"sourceID":129647,"targetID":136724},"136741":{"id":136741,"sourceID":129665,"targetID":136730},"275395":{"id":275395,"sourceID":266328,"targetID":266381},"136729":{"id":136729,"sourceID":129649,"targetID":129646},"136732":{"id":136732,"sourceID":129648,"targetID":136711},"285226":{"id":285226,"sourceID":285131,"targetID":261753}},"unconditionalConnectors":{"266350":{"id":266350,"sourceID":129644,"targetID":266328},"301273":{"id":301273,"sourceID":259991,"targetID":282767}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"300573":{"id":300573,"sourceID":285131,"targetID":300414}},"noteConnectors":{},"canUndo":true,"undoCommand":"Set Parameter","undoCreated":1608036742666,"canRedo":false,"redoCommand":"","redoCreated":1607598799283,"notes":{"137556":{"id":137556,"x":-551,"y":-247,"width":367,"height":139,"text":"Imported  Json class\njson.dumps takes an object and produces a string into collist \nJson.load would take a file-like object, read the data from that object, and use that string to create an object\nre-assign updateGridVariable from ReplaceTypeColumns to  ODSColumn","colour":"e6e63c"}},"variables":{"LoadType":{"definition":{"name":"LoadType","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"UPSERT"},"StageType":{"definition":{"name":"StageType","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"FULL LOAD"},"CSVFileName":{"definition":{"name":"CSVFileName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS_JournaltaskFile_20201213_203349_0.csv"},"ODSTableName":{"definition":{"name":"ODSTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"JOURNALTASKFILE"},"CSVFileFormat":{"definition":{"name":"CSVFileFormat","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS_FileData_20.*"},"ColumnListExp":{"definition":{"name":"ColumnListExp","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":" CUSTOMERID"},"ContainerName":{"definition":{"name":"ContainerName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"wh-outbound-unzipped"},"ODSSchemaName":{"definition":{"name":"ODSSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBO"},"SourceSystemId":{"definition":{"name":"SourceSystemId","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"3"},"StageTableName":{"definition":{"name":"StageTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"CONTRACT"},"ODSDatabaseName":{"definition":{"name":"ODSDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"ODS_KONTROLSYS_NO"},"StageSchemaName":{"definition":{"name":"StageSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBO"},"SourceSystemName":{"definition":{"name":"SourceSystemName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS_NO"},"StageDatabaseName":{"definition":{"name":"StageDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"STG_KONTROLSYS_NO"}},"grids":{"ODSColumns":{"definition":{"name":"ODSColumns","scope":"BRANCH","definitions":[{"name":"Name","type":"TEXT"},{"name":"Type","type":"TEXT"},{"name":"Size","type":"TEXT"},{"name":"Precision","type":"TEXT"},{"name":"Default_Value","type":"TEXT"},{"name":"Not_Null","type":"TEXT"},{"name":"Unique","type":"TEXT"}],"description":"","visibility":"PRIVATE"},"values":[{"values":["ID","NUMBER","10","","1","",""]},{"values":["Name","VARIANT","8388608","","","",""]}]},"LoadProcess":{"definition":{"name":"LoadProcess","scope":"BRANCH","definitions":[{"name":"SourceSystemId","type":"DECIMAL"},{"name":"StageType","type":"TEXT"},{"name":"StageDatabaseName","type":"TEXT"},{"name":"StageSchemaName","type":"TEXT"},{"name":"StageTableName","type":"TEXT"},{"name":"ODSDatabaseName","type":"TEXT"},{"name":"ODSSchemaName","type":"TEXT"},{"name":"ODSTableName","type":"TEXT"},{"name":"LoadType","type":"TEXT"},{"name":"ColumnListExp","type":"TEXT"}],"description":"LoadProcess","visibility":"PRIVATE"},"values":[]},"DeleteProcess":{"definition":{"name":"DeleteProcess","scope":"BRANCH","definitions":[{"name":"SourceSystemId","type":"DECIMAL"},{"name":"StageDatabaseName","type":"TEXT"},{"name":"StageSchemaName","type":"TEXT"},{"name":"StageTableName","type":"TEXT"},{"name":"ODSDatabaseName","type":"TEXT"},{"name":"ODSSchemaName","type":"TEXT"},{"name":"ODSTableName","type":"TEXT"},{"name":"SourceSystemName","type":"TEXT"},{"name":"IsRestricted","type":"TEXT"},{"name":"RestrictedColumnName","type":"TEXT"},{"name":"RestrictedTablename","type":"TEXT"},{"name":"Expressions","type":"TEXT"}],"description":"DeleteProcess","visibility":"PRIVATE"},"values":[]},"ReplaceTypeColumns":{"definition":{"name":"ReplaceTypeColumns","scope":"BRANCH","definitions":[{"name":"Name","type":"TEXT"},{"name":"Type","type":"TEXT"},{"name":"Size","type":"TEXT"},{"name":"Precision","type":"TEXT"},{"name":"Default_Value","type":"TEXT"},{"name":"Not_Null","type":"TEXT"},{"name":"Unique","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[{"values":["ID","NUMBER","10","","1","No","No"]},{"values":["Name","VARIANT","8388608","","1","No","No"]}]}}},{"id":239708,"revision":31,"created":1607608694477,"timestamp":1607608694477,"components":{"239712":{"id":239712,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":640,"y":0,"width":32,"height":32,"inputConnectorIDs":[239721],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"239713":{"id":239713,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":320,"y":0,"width":32,"height":32,"inputConnectorIDs":[239720],"outputSuccessConnectorIDs":[239722],"outputFailureConnectorIDs":[239724],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create FileList"}}}},"visible":true},"2":{"slot":2,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageDatabaseName}"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageSchemaName}"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"FILELIST"}}}},"visible":true},"5":{"slot":5,"name":"Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"FILENAME"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"1000"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"7":{"slot":7,"name":"Clustering Keys","elements":{},"visible":true},"8":{"slot":8,"name":"Data Retention Time in Days","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"9":{"slot":9,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"11":{"slot":11,"name":"Primary Keys","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"FILENAME"}}}},"visible":true},"12":{"slot":12,"name":"Table Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Permanent"}}}},"visible":true},"13":{"slot":13,"name":"Default DDL Collation","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"239714":{"id":239714,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576616,"x":160,"y":0,"width":32,"height":32,"inputConnectorIDs":[239727],"outputSuccessConnectorIDs":[239720],"outputFailureConnectorIDs":[239725],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Get FileList"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are exported into bash, but should be considered read-only: \n#    echo $myvar\n###\necho \"ContainerName:  \" $ContainerName\n\n# needed to not exit immediately on non-zero return code\nset +e\n\necho \"Trying to generate FileList...\"\naz storage blob list --container-name \"$ContainerName\" --output tsv --num-results \"*\" --timeout 30 --account-name \"$env_storage\" --sas-token \"$env_sas_token\" | cut -f10 | grep -v \"/\" > /data/$StageDatabaseName.$StageSchemaName.FILELIST 2>/data/$StageDatabaseName.$StageSchemaName.err\nReturnCode=$?\n\necho $ReturnCode\nif [ $ReturnCode -ne 0 ]; then\n  \techo \"ReturnCode was not zero:  $ReturnCode\"\n\tif [[ ! -f \"/data/$StageDatabaseName.$StageSchemaName.FILELIST\" ]]; then\n    \techo \"The intended file was NOT created on your filesystem.\"\n\tfi  \n\tif [[ -f \"/data/$StageDatabaseName.$StageSchemaName.FILELIST\" ]] && [[ ! -s \"/data/$StageDatabaseName.$StageSchemaName.FILELIST\" ]]; then\n    \techo \"The intended file is empty.  Exiting as a success.\"\n        exit 0\n\tfi\n\texit $ReturnCode\nfi\n\necho \"Trying to upload FileList...\"\naz storage blob upload --file /data/$StageDatabaseName.$StageSchemaName.FILELIST --container-name $ContainerName --name $StageDatabaseName.$StageSchemaName.FILELIST --account-name \"$env_storage\" --sas-token \"$env_sas_token\"\nReturnCode=$?\n\necho $ReturnCode\nif [ $ReturnCode -ne 0 ]; then\n   \techo \"ReturnCode was not zero:  $ReturnCode\"\n    exit $ReturnCode\nfi\n\necho \"Exiting as a success.\"\n\nexit $ReturnCode\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"239716":{"id":239716,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":472,"y":161,"width":32,"height":32,"inputConnectorIDs":[239726],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"239717":{"id":239717,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":160,"y":160,"width":32,"height":32,"inputConnectorIDs":[239725],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"239718":{"id":239718,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1989138124,"x":480,"y":0,"width":32,"height":32,"inputConnectorIDs":[239722],"outputSuccessConnectorIDs":[239721],"outputFailureConnectorIDs":[239726],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Load FileList"}}}},"visible":true},"4":{"slot":4,"name":"Azure Storage Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"azure://${env_storage}/${ContainerName}/"}}}},"visible":true},"5":{"slot":5,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageDatabaseName}"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageSchemaName}"}}}},"visible":true},"8":{"slot":8,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"FILELIST"}}}},"visible":true},"9":{"slot":9,"name":"Load Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"FILENAME"}}}},"visible":true},"10":{"slot":10,"name":"Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"11":{"slot":11,"name":"File Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CSV"}}}},"visible":true},"12":{"slot":12,"name":"Compression","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AUTO"}}}},"visible":true},"20":{"slot":20,"name":"Record Delimiter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"21":{"slot":21,"name":"Field Delimiter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"22":{"slot":22,"name":"Skip Header","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"23":{"slot":23,"name":"Date Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"24":{"slot":24,"name":"Time Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"25":{"slot":25,"name":"Timestamp Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"26":{"slot":26,"name":"","elements":{},"visible":false},"27":{"slot":27,"name":"Escape","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR_OR_ESCAPE_SEQUENCE","value":""}}}},"visible":true},"28":{"slot":28,"name":"Escape Unenclosed Field","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR_OR_ESCAPE_SEQUENCE","value":""}}}},"visible":true},"29":{"slot":29,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":true},"30":{"slot":30,"name":"Field Optionally Enclosed","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"CHAR","value":""}}}},"visible":true},"31":{"slot":31,"name":"Null If","elements":{},"visible":true},"32":{"slot":32,"name":"Error On Column Count Mismatch","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":true},"33":{"slot":33,"name":"Empty Field as Null","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":true},"34":{"slot":34,"name":"Encoding Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"35":{"slot":35,"name":"Skip Blank Lines","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"36":{"slot":36,"name":"Replace Invalid Characters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"40":{"slot":40,"name":"Enable Octal","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"41":{"slot":41,"name":"Allow Duplicates","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"42":{"slot":42,"name":"Strip Outer Array","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"43":{"slot":43,"name":"Strip Null Values","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"44":{"slot":44,"name":"Ignore UTF8 Errors","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"45":{"slot":45,"name":"Nest Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"46":{"slot":46,"name":"Null If","elements":{},"visible":false},"47":{"slot":47,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"50":{"slot":50,"name":"Null If","elements":{},"visible":false},"51":{"slot":51,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"60":{"slot":60,"name":"Ignore UTF8 Errors","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"61":{"slot":61,"name":"Preserve Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"62":{"slot":62,"name":"Strip Outer Element","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"63":{"slot":63,"name":"Disable Snowflake Data","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"64":{"slot":64,"name":"Disable Auto Convert","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"66":{"slot":66,"name":"Null If","elements":{},"visible":false},"67":{"slot":67,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"70":{"slot":70,"name":"Null If","elements":{},"visible":false},"71":{"slot":71,"name":"Trim Space","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"120":{"slot":120,"name":"On Error","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Abort Statement"}}}},"visible":true},"121":{"slot":121,"name":"n","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":false},"122":{"slot":122,"name":"Size Limit (B)","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"123":{"slot":123,"name":"Purge Files","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":true},"124":{"slot":124,"name":"Truncate Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"125":{"slot":125,"name":"Force Load","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"True"}}}},"visible":true},"126":{"slot":126,"name":"Match By Column Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"200":{"slot":200,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"201":{"slot":201,"name":"Pattern","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${StageDatabaseName}.${StageSchemaName}.FILELIST"}}}},"visible":true},"203":{"slot":203,"name":"Metadata Fields","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"239719":{"id":239719,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":0,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[239727],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"239723":{"id":239723,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":318,"y":156,"width":32,"height":32,"inputConnectorIDs":[239724],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"239722":{"id":239722,"sourceID":239713,"targetID":239718},"239721":{"id":239721,"sourceID":239718,"targetID":239712},"239720":{"id":239720,"sourceID":239714,"targetID":239713}},"failureConnectors":{"239726":{"id":239726,"sourceID":239718,"targetID":239716},"239725":{"id":239725,"sourceID":239714,"targetID":239717},"239724":{"id":239724,"sourceID":239713,"targetID":239723}},"unconditionalConnectors":{"239727":{"id":239727,"sourceID":239719,"targetID":239714}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":true,"undoCommand":"Delete","undoCreated":1607439296961,"canRedo":false,"redoCommand":"","redoCreated":1607608664712,"notes":{},"variables":{"ContainerName":{"definition":{"name":"ContainerName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"wh-outbound-unzipped"},"StageSchemaName":{"definition":{"name":"StageSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBO"},"StageDatabaseName":{"definition":{"name":"StageDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"STG_KONTROLSYS_NO"}},"grids":{}},{"id":255805,"revision":119,"created":1607664103955,"timestamp":1607664103955,"components":{"255811":{"id":255811,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-480,"y":-16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[259459],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"255812":{"id":255812,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1155583855,"x":-320,"y":-16,"width":32,"height":32,"inputConnectorIDs":[259459],"outputSuccessConnectorIDs":[255824],"outputFailureConnectorIDs":[255833],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Get Restricted DeleteProcess List"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"4":{"slot":4,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"6":{"slot":6,"name":"Table Columns","elements":{},"visible":false},"7":{"slot":7,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select\nSourceSystemId\t,\nStageDatabaseName\t,\nStageSchemaName\t,\nStageTableName\t,\nODSDatabaseName\t,\nODSSchemaName\t,\nODSTableName\t,\ntrim(SourceSystemName) SourceSystemName,\nIsRestricted,\nRestrictedColumnName,\nRestrictedTablename,\nExpressions\t\nfrom dw.control.sourcesystem_loadprocess3\nWHERE LOADPROCESS_ACTIVEFLAG=true \nAND sourcesystemid=${SourceSystemId}\nAND IsRestricted = 'TRUE'\nOrder by RestrictedTable_Rank desc\n"}}}},"visible":true},"8":{"slot":8,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DeleteProcess"}}}},"visible":true},"9":{"slot":9,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCESYSTEMID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"STAGEDATABASENAME"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"STAGESCHEMANAME"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"STAGETABLENAME"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDATABASENAME"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSCHEMANAME"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTABLENAME"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCESYSTEMNAME"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"ISRESTRICTED"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"RESTRICTEDCOLUMNNAME"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"RESTRICTEDTABLENAME"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"EXPRESSIONS"}}}},"visible":true},"10":{"slot":10,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"11":{"slot":11,"name":"Order By","elements":{},"visible":false},"12":{"slot":12,"name":"Sort","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Ascending"}}}},"visible":false},"20":{"slot":20,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"255815":{"id":255815,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":64,"y":-16,"width":32,"height":32,"inputConnectorIDs":[255825],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"255817":{"id":255817,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-320,"y":160,"width":32,"height":32,"inputConnectorIDs":[255833],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"255818":{"id":255818,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":-128,"y":-16,"width":32,"height":16,"inputConnectorIDs":[255824],"outputSuccessConnectorIDs":[255825],"outputFailureConnectorIDs":[255834],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Loop sourcesystem parameter List -Stage"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DeleteProcess"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemId"},"2":{"slot":2,"type":"STRING","value":"SourceSystemId"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"StageDatabaseName"},"2":{"slot":2,"type":"STRING","value":"StageDatabaseName"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"StageSchemaName"},"2":{"slot":2,"type":"STRING","value":"StageSchemaName"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"StageTableName"},"2":{"slot":2,"type":"STRING","value":"StageTableName"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDatabaseName"},"2":{"slot":2,"type":"STRING","value":"ODSDatabaseName"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSchemaName"},"2":{"slot":2,"type":"STRING","value":"ODSSchemaName"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTableName"},"2":{"slot":2,"type":"STRING","value":"ODSTableName"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemName"},"2":{"slot":2,"type":"STRING","value":"SourceSystemName"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"IsRestricted"},"2":{"slot":2,"type":"STRING","value":"IsRestricted"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"RestrictedTablename"},"2":{"slot":2,"type":"STRING","value":"RestrictedTablename"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"RestrictedColumnName"},"2":{"slot":2,"type":"STRING","value":"RestrictedColumnName"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"Expressions"},"2":{"slot":2,"type":"STRING","value":"Expressions"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemName"},"2":{"slot":2,"type":"STRING","value":"SourceSchemaName"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[255837],"inputIterationConnectorIDs":[]},"255819":{"id":255819,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-128,"y":16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Build Restricted Delete SQL"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible:\n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Udating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0] FULL PULL\n###\n# RestrictedColumnName='C1,C2'\nif IsRestricted == 'true':\n    \tcmd = \" Delete from \"+StageDatabaseName+\".\"+StageSchemaName+\".\"+StageTableName +\" where \" +RestrictedColumnName + \" IN ( \"+ \\\n        Expressions +\")\"\n        print(cmd)\n    \tcursor = context.cursor()\n    \tcursor.execute(cmd)"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[255837]},"255822":{"id":255822,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-128,"y":160,"width":32,"height":32,"inputConnectorIDs":[255834],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"255825":{"id":255825,"sourceID":255818,"targetID":255815},"255824":{"id":255824,"sourceID":255812,"targetID":255818}},"failureConnectors":{"255834":{"id":255834,"sourceID":255818,"targetID":255822},"255833":{"id":255833,"sourceID":255812,"targetID":255817}},"unconditionalConnectors":{"259459":{"id":259459,"sourceID":255811,"targetID":255812}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"255837":{"id":255837,"sourceID":255818,"targetID":255819}},"noteConnectors":{},"canUndo":true,"undoCommand":"Set Parameter","undoCreated":1607505082000,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{},"variables":{"StageType":{"definition":{"name":"StageType","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"FULL LOAD"},"Expressions":{"definition":{"name":"Expressions","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"SELECT CUSTOMER_ID from ODS_GRS_NO.DBO.CUSTOMER_RESTRICTED_DATA"},"IsRestricted":{"definition":{"name":"IsRestricted","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"TRUE"},"ODSTableName":{"definition":{"name":"ODSTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"CUSTOMER"},"CSVFileFormat":{"definition":{"name":"CSVFileFormat","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS_FileData_20.*"},"ContainerName":{"definition":{"name":"ContainerName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"wh-outbound-unzipped"},"ODSSchemaName":{"definition":{"name":"ODSSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBO"},"SourceSystemId":{"definition":{"name":"SourceSystemId","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"3"},"StageTableName":{"definition":{"name":"StageTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"CUSTOMER"},"ODSDatabaseName":{"definition":{"name":"ODSDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"ODS_KONTROLSYS_NO"},"StageSchemaName":{"definition":{"name":"StageSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBO"},"SourceSchemaName":{"definition":{"name":"SourceSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"DBO"},"SourceSystemName":{"definition":{"name":"SourceSystemName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS"},"StageDatabaseName":{"definition":{"name":"StageDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"STG_KONTROLSYS_NO"},"RestrictedTablename":{"definition":{"name":"RestrictedTablename","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"CUSTOMER_RESTRICTED_DATA"},"RestrictedColumnName":{"definition":{"name":"RestrictedColumnName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"CUSTOMER_ID"}},"grids":{"DeleteProcess":{"definition":{"name":"DeleteProcess","scope":"BRANCH","definitions":[{"name":"SourceSystemId","type":"DECIMAL"},{"name":"StageDatabaseName","type":"TEXT"},{"name":"StageSchemaName","type":"TEXT"},{"name":"StageTableName","type":"TEXT"},{"name":"ODSDatabaseName","type":"TEXT"},{"name":"ODSSchemaName","type":"TEXT"},{"name":"ODSTableName","type":"TEXT"},{"name":"SourceSystemName","type":"TEXT"},{"name":"IsRestricted","type":"TEXT"},{"name":"RestrictedColumnName","type":"TEXT"},{"name":"RestrictedTablename","type":"TEXT"},{"name":"Expressions","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[]}}},{"id":273749,"revision":88,"created":1607681491481,"timestamp":1607681491481,"components":{"273744":{"id":273744,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-560,"y":-16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[273800],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"273745":{"id":273745,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-96,"y":144,"width":32,"height":32,"inputConnectorIDs":[273931],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 3"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"273746":{"id":273746,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-96,"y":16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFileLoad Stage Object Process"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFileStageODSLoadProcess"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ContainerName"},"2":{"slot":2,"type":"STRING","value":"${ContainerName}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFileName"},"2":{"slot":2,"type":"STRING","value":"${CSVFileName}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"StageType"},"2":{"slot":2,"type":"STRING","value":"${StageType}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"StageDatabaseName"},"2":{"slot":2,"type":"STRING","value":"${StageDatabaseName}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"StageSchemaName"},"2":{"slot":2,"type":"STRING","value":"${StageSchemaName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"StageTableName"},"2":{"slot":2,"type":"STRING","value":"${StageTableName}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDatabaseName"},"2":{"slot":2,"type":"STRING","value":"${ODSDatabaseName}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSchemaName"},"2":{"slot":2,"type":"STRING","value":"${ODSSchemaName}"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTableName"},"2":{"slot":2,"type":"STRING","value":"${ODSTableName}"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemName"},"2":{"slot":2,"type":"STRING","value":"${SourceSystemName}"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemId"},"2":{"slot":2,"type":"STRING","value":"${SourceSystemId}"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"LoadType"},"2":{"slot":2,"type":"STRING","value":"${LoadType}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[273940]},"273747":{"id":273747,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":128,"y":-16,"width":32,"height":32,"inputConnectorIDs":[273930],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"273797":{"id":273797,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1155583855,"x":-352,"y":-16,"width":32,"height":32,"inputConnectorIDs":[273800],"outputSuccessConnectorIDs":[274188],"outputFailureConnectorIDs":[273756],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grid FileList"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"4":{"slot":4,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"6":{"slot":6,"name":"Table Columns","elements":{},"visible":false},"7":{"slot":7,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select \nFILENAME AS CSVFileName \nfrom STG_KONTROLSYS_NO.DBO.FILELIST\n--where FILENAME LIKE '${CSVFileFormat}'\n--Where regexp_like(FILENAME,'KONTROLSYS_Contract_20.*')\nWhere regexp_like(FILENAME,'${CSVFileFormat}')\nAND FILENAME NOT IN ('BaseFile_20201112_094847.csv')\norder by\nto_Number(split_part(split_part(FILENAME,'_',-3),'.',1)),\nto_Number(split_part(split_part(FILENAME,'_',-2),'.',1)),\nto_Number(split_part(split_part(FILENAME,'_',-1),'.',1))"}}}},"visible":true},"8":{"slot":8,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFileList"}}}},"visible":true},"9":{"slot":9,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFILENAME"}}}},"visible":true},"10":{"slot":10,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"11":{"slot":11,"name":"Order By","elements":{},"visible":false},"12":{"slot":12,"name":"Sort","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Ascending"}}}},"visible":false},"20":{"slot":20,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"273798":{"id":273798,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-352,"y":144,"width":32,"height":32,"inputConnectorIDs":[273756],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"273922":{"id":273922,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":-96,"y":-16,"width":32,"height":16,"inputConnectorIDs":[274188],"outputSuccessConnectorIDs":[273930],"outputFailureConnectorIDs":[273931],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grid Iterator 0"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CSVFileList"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"FILENAME"},"2":{"slot":2,"type":"STRING","value":"CSVFileName"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[273940],"inputIterationConnectorIDs":[]}},"successConnectors":{"274188":{"id":274188,"sourceID":273797,"targetID":273922},"273930":{"id":273930,"sourceID":273922,"targetID":273747}},"failureConnectors":{"273756":{"id":273756,"sourceID":273797,"targetID":273798},"273931":{"id":273931,"sourceID":273922,"targetID":273745}},"unconditionalConnectors":{"273800":{"id":273800,"sourceID":273744,"targetID":273797}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"273940":{"id":273940,"sourceID":273922,"targetID":273746}},"noteConnectors":{},"canUndo":true,"undoCommand":"Set Parameter","undoCreated":1607681417598,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{},"variables":{"StageType":{"definition":{"name":"StageType","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"FULLLOAD"},"CSVFileName":{"definition":{"name":"CSVFileName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS_FileData_20"},"ODSTableName":{"definition":{"name":"ODSTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"CUSTOMER"},"CSVFileFormat":{"definition":{"name":"CSVFileFormat","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS_FileData_20.*"},"ODSSchemaName":{"definition":{"name":"ODSSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBO"},"SourceSystemId":{"definition":{"name":"SourceSystemId","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"3"},"StageTableName":{"definition":{"name":"StageTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"CUSTOMER"},"ODSDatabaseName":{"definition":{"name":"ODSDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"ODS_KONTROLSYS_NO"},"StageSchemaName":{"definition":{"name":"StageSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBO"},"SourceSchemaName":{"definition":{"name":"SourceSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"DBO"},"SourceSystemName":{"definition":{"name":"SourceSystemName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS"},"StageDatabaseName":{"definition":{"name":"StageDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"STG_KONTROLSYS_NO"}},"grids":{"CSVFileList":{"definition":{"name":"CSVFileList","scope":"BRANCH","definitions":[{"name":"FILENAME","type":"TEXT"}],"description":"CSVFileList","visibility":"PUBLIC"},"values":[]}}}],"transformationJobs":[],"variables":[],"environments":[]}