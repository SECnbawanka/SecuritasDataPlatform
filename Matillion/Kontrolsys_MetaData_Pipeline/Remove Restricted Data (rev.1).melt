{"objects":[{"metadata":{"identifier":{"packageName":"Common","name":"Remove Restricted Data","revision":1,"type":"DYNAMIC"},"rootJobReference":{"name":"Remove Restricted Data","type":"ORCHESTRATION","parameterMetadata":[{"slot":2,"variableName":"ContainerName","variableType":"SCALAR","displayName":"ContainerName","description":"","defaultValue":[{"values":{"1":"wh-outbound-unzipped"}}],"defaultValueType":"TEXT","required":true},{"slot":3,"variableName":"CSVFileFormat","variableType":"SCALAR","displayName":"CSVFileFormat","description":"","defaultValue":[{"values":{"1":"KONTROLSYS_FileData_20.*"}}],"defaultValueType":"TEXT","required":true},{"slot":4,"variableName":"ODSDatabaseName","variableType":"SCALAR","displayName":"ODSDatabaseName","description":"","defaultValue":[{"values":{"1":"ODS_KONTROLSYS_NO"}}],"defaultValueType":"TEXT","required":true},{"slot":5,"variableName":"ODSSchemaName","variableType":"SCALAR","displayName":"ODSSchemaName","description":"","defaultValue":[{"values":{"1":"DBO"}}],"defaultValueType":"TEXT","required":true},{"slot":6,"variableName":"ODSTableName","variableType":"SCALAR","displayName":"ODSTableName","description":"","defaultValue":[{"values":{"1":"CUSTOMER"}}],"defaultValueType":"TEXT","required":true},{"slot":7,"variableName":"SourceSystemId","variableType":"SCALAR","displayName":"SourceSystemId","description":"","defaultValue":[{"values":{"1":"3"}}],"defaultValueType":"DECIMAL","required":true},{"slot":8,"variableName":"SourceSystemName","variableType":"SCALAR","displayName":"SourceSystemName","description":"","defaultValue":[{"values":{"1":"KONTROLSYS"}}],"defaultValueType":"TEXT","required":true},{"slot":9,"variableName":"StageDatabaseName","variableType":"SCALAR","displayName":"StageDatabaseName","description":"","defaultValue":[{"values":{"1":"STG_KONTROLSYS_NO"}}],"defaultValueType":"TEXT","required":true},{"slot":10,"variableName":"StageSchemaName","variableType":"SCALAR","displayName":"StageSchemaName","description":"","defaultValue":[{"values":{"1":"DBO"}}],"defaultValueType":"TEXT","required":true},{"slot":11,"variableName":"StageTableName","variableType":"SCALAR","displayName":"StageTableName","description":"","defaultValue":[{"values":{"1":"CUSTOMER"}}],"defaultValueType":"TEXT","required":true},{"slot":12,"variableName":"StageType","variableType":"SCALAR","displayName":"StageType","description":"","defaultValue":[{"values":{"1":"FULL LOAD"}}],"defaultValueType":"TEXT","required":true},{"slot":13,"variableName":"DeleteProcess","variableType":"GRID","displayName":"DeleteProcess","description":"","defaultValue":[],"defaultValueType":null,"required":true}]},"orchestrationJobs":["Remove Restricted Data"],"transformationJobs":[],"imageMetadata":{"componentIcon":"iVBORw0KGgoAAAANSUhEUgAAAC8AAAAwCAYAAACBpyPiAAAEt0lEQVR42tVaWWwNYRQ+1E7wYKcexPJgX2Lfgthiiy5Io+m9t7ekUTQoQdIEQTyIrffemWo11QjiwYMISYPS2ooXFVTRiqVUa6lqdfWdub+k2pm6c5M7MyY5mZvpzPzfOf9ZvnOmRBY4YpOoi8NDM6Mlcjkleo5zBeQr5LbDTQl2Fw1LTKQ2ZLUjRqIeTg/tBtD3kFpIPaRBnOvEtftOmZaFnad2lgEed4y6AtgByA8BuCUpZAUsswMAEwFQxT4A94qH7uCZoaYDt6dQv2iZzvgM3CvVkC1W8PXpAPJKJ/g6h0S3TAeP7LJUWFIPeA7iMtPBw3+Xi2zSoFPKrRCsSwDki17Lw23yzUHcQK2iTlF3TnkI1pxGOd1XqUVNkE2ponYPTUDFTEMV/eany5Ss89BcI7NKWyw4BAvvhLzxEzRLpUOmg3hfN6OA941Opki4SDYWr1EBVIrAvQI/vovfVS0AL0N2ku3HqZ8hLgK/XgRgGRpBWcUKwY3ioFzvaBeNgisdxvWH4v46kUaZ72TCCPHr3dQroKBBnIIAaDQWPAQpUCsyfB1Bt5/va/wsArkDQE6CwjbsRDzu24hzmOMkDeb3BhQ4WwbW3oRFczRc5DvktF2i+QDZKeDbH5VEfThDIOCmaFkAzLA9rBWKbb+k+HDz9FeHv13DPWugYH9OlwEDPBuUEz44GYtKkEeQF8IF8uCnF2Hd8LXp1BnUtDUsOA7XUyFvNbJIATLEVlY84FSWQTnd5BRgf2n4bDF8MQXnPZCnKvyELV/q5HtcNJ59OeAuwl2K4NeffaSmlU1chH+XK2kxmULZEAF1kb/8W6KRWPyZvwUEln6CHUngwA14dmhGUWXaq5ElWuTX3J7B2m5WnuPAHIoqUa4fpbsC1t7AGcdciuolS3rdpYqprfnNAQebfvDVTG/Nbw4QcH7w63Kk1nArWP6EHwHLA6HHkG22VOppWGpsBj5Zqarv/EyVX5BxroMCrFJ4i9FK8KJsQTEn9MXiNSqV9RMkDXEwxvDRHM8NRb4v0Uib9SKwM2Hlczh/FIo0Vewl3pUAGWjoeE40EqsRwFcZBOSDAFnEA0/ILp52wbIdcV+IooiX7qpRiCymChwPhhYw0TBPYb4DiUIbtpC7HtVWT6Id2IkHagEv6kcqnp2j8B3LHQhQZpAAeVSLH6ESv2Ym6nDTWNOy0r+YKXZgMUCe5aZZRYkanjViJ2NtSRSs9jx/SLB7m5+J3LwYzpcUV/JQjFZLyK4EJS5AVnCWE3R8Ca57lJTrbYJy8ffLOO/j7GWoEgLQcPSsiWJeo8ZIixBLSYpIlK+SuVh+QqF7qOQhhhPACP76kUwzYNV08QWkKQWp1OjamrWUMMYCw3uFPzUESqwUrlTlVyWX6QbeMcCsgA5CCg4WH9AKNdykxY4NwRxpalbiCQUHqEif+qbEcD8rzOeniiDV13bKdNP8zzpumqYxEvwPvkm5aQQD0e02MqWYDj4ig7oivx/RPaOXKMwSdEIZg+twHZ6HGjKj9+WIPwxa7aHtGjyoqeTZZJpl2mxIo3h1A7DNol9Q+8cJ5kZZ2KV5/InIcmxUaUG9PfRRMbz9IfribP7QYHPRILWO7DcMk6fExOL0xgAAAABJRU5ErkJggg==","smallIcon":"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3klEQVR42mNgoBfIncTAnjKDISR1FoMVWQakzGLYlTKT4T8Ip85gyCBJc9pMBi6YZjCexbCVaM1JMxj0gZoOAPEfJEPyCGqMm8IgDFQ4DYi/Ap3cljiPQTR5FkMsMAxcsPtxNoMi1KYbQIW9QPot0KkbgM5XJi6QZjIsRfZn8kwGb9JCGc0AoFN9SDMA5IVZDPvJ9gLWQJzFMB0WiJnTGASBrgoEGmhOkkHQaDwIxL/h4QOMDZIMqa9nYEIxYCbDctKT8kyGFVAD/gK9EkayAaGrGJhBiSh5OoMOVXMpACOSdcPGrg/qAAAAAElFTkSuQmCC"},"description":"Remove Restricted Data","helpHtml":"<div class=\"mtln\"><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAwCAYAAACBpyPiAAAEt0lEQVR42tVaWWwNYRQ+1E7wYKcexPJgX2Lfgthiiy5Io+m9t7ekUTQoQdIEQTyIrffemWo11QjiwYMISYPS2ooXFVTRiqVUa6lqdfWdub+k2pm6c5M7MyY5mZvpzPzfOf9ZvnOmRBY4YpOoi8NDM6Mlcjkleo5zBeQr5LbDTQl2Fw1LTKQ2ZLUjRqIeTg/tBtD3kFpIPaRBnOvEtftOmZaFnad2lgEed4y6AtgByA8BuCUpZAUsswMAEwFQxT4A94qH7uCZoaYDt6dQv2iZzvgM3CvVkC1W8PXpAPJKJ/g6h0S3TAeP7LJUWFIPeA7iMtPBw3+Xi2zSoFPKrRCsSwDki17Lw23yzUHcQK2iTlF3TnkI1pxGOd1XqUVNkE2ponYPTUDFTEMV/eany5Ss89BcI7NKWyw4BAvvhLzxEzRLpUOmg3hfN6OA941Opki4SDYWr1EBVIrAvQI/vovfVS0AL0N2ku3HqZ8hLgK/XgRgGRpBWcUKwY3ioFzvaBeNgisdxvWH4v46kUaZ72TCCPHr3dQroKBBnIIAaDQWPAQpUCsyfB1Bt5/va/wsArkDQE6CwjbsRDzu24hzmOMkDeb3BhQ4WwbW3oRFczRc5DvktF2i+QDZKeDbH5VEfThDIOCmaFkAzLA9rBWKbb+k+HDz9FeHv13DPWugYH9OlwEDPBuUEz44GYtKkEeQF8IF8uCnF2Hd8LXp1BnUtDUsOA7XUyFvNbJIATLEVlY84FSWQTnd5BRgf2n4bDF8MQXnPZCnKvyELV/q5HtcNJ59OeAuwl2K4NeffaSmlU1chH+XK2kxmULZEAF1kb/8W6KRWPyZvwUEln6CHUngwA14dmhGUWXaq5ElWuTX3J7B2m5WnuPAHIoqUa4fpbsC1t7AGcdciuolS3rdpYqprfnNAQebfvDVTG/Nbw4QcH7w63Kk1nArWP6EHwHLA6HHkG22VOppWGpsBj5Zqarv/EyVX5BxroMCrFJ4i9FK8KJsQTEn9MXiNSqV9RMkDXEwxvDRHM8NRb4v0Uib9SKwM2Hlczh/FIo0Vewl3pUAGWjoeE40EqsRwFcZBOSDAFnEA0/ILp52wbIdcV+IooiX7qpRiCymChwPhhYw0TBPYb4DiUIbtpC7HtVWT6Id2IkHagEv6kcqnp2j8B3LHQhQZpAAeVSLH6ESv2Ym6nDTWNOy0r+YKXZgMUCe5aZZRYkanjViJ2NtSRSs9jx/SLB7m5+J3LwYzpcUV/JQjFZLyK4EJS5AVnCWE3R8Ca57lJTrbYJy8ffLOO/j7GWoEgLQcPSsiWJeo8ZIixBLSYpIlK+SuVh+QqF7qOQhhhPACP76kUwzYNV08QWkKQWp1OjamrWUMMYCw3uFPzUESqwUrlTlVyWX6QbeMcCsgA5CCg4WH9AKNdykxY4NwRxpalbiCQUHqEif+qbEcD8rzOeniiDV13bKdNP8zzpumqYxEvwPvkm5aQQD0e02MqWYDj4ig7oivx/RPaOXKMwSdEIZg+twHZ6HGjKj9+WIPwxa7aHtGjyoqeTZZJpl2mxIo3h1A7DNol9Q+8cJ5kZZ2KV5/InIcmxUaUG9PfRRMbz9IfribP7QYHPRILWO7DcMk6fExOL0xgAAAABJRU5ErkJggg==\"><h3>Remove Restricted Data</h3><p style='white-space: pre-line; word-wrap: break-word;'>Remove Restricted Data</p><h3>Properties</h3><table><tbody><tr><th>Property</th><th>Type</th><th>Description</th></tr><tr><td>ContainerName</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>CSVFileFormat</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>ODSDatabaseName</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>ODSSchemaName</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>ODSTableName</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>SourceSystemId</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>SourceSystemName</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>StageDatabaseName</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>StageSchemaName</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>StageTableName</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>StageType</td><td>Variable</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr><tr><td>DeleteProcess</td><td>Grid</td><td style='white-space: pre-line; word-wrap: break-word;'></td></tr></tbody></table></div>","created":1607505847979},"orchestrationJobs":{"Remove Restricted Data":{"id":-2,"revision":118,"created":1607505082000,"timestamp":1607505082000,"components":{"255811":{"id":255811,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-480,"y":-16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[259459],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true,"status":{},"columnNames":[]}},"validationStatus":{},"status":{},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"255812":{"id":255812,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1155583855,"x":-320,"y":-16,"width":32,"height":32,"inputConnectorIDs":[259459],"outputSuccessConnectorIDs":[255824],"outputFailureConnectorIDs":[255833],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Get Restricted DeleteProcess List"}}}},"visible":true,"status":{},"columnNames":[]},"2":{"slot":2,"name":"Basic/Advanced","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true,"status":{},"columnNames":[]},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false,"status":{},"columnNames":[]},"4":{"slot":4,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false,"status":{},"columnNames":[]},"6":{"slot":6,"name":"Table Columns","elements":{},"visible":false,"status":{},"columnNames":[]},"7":{"slot":7,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select\nSourceSystemId\t,\nStageDatabaseName\t,\nStageSchemaName\t,\nStageTableName\t,\nODSDatabaseName\t,\nODSSchemaName\t,\nODSTableName\t,\ntrim(SourceSystemName) SourceSystemName,\nIsRestricted,\nRestrictedColumnName,\nRestrictedTablename,\nExpressions\t\nfrom dw.control.sourcesystem_loadprocess3\nWHERE LOADPROCESS_ACTIVEFLAG=true \nAND STAGETYPE <> 'BYPASS'\nAND sourcesystemid=${SourceSystemId}\nAND IsRestricted = 'TRUE'\nOrder by RestrictedTable_Rank desc\n"}}}},"visible":true,"status":{},"columnNames":[]},"8":{"slot":8,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DeleteProcess"}}}},"visible":true,"status":{},"columnNames":[]},"9":{"slot":9,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCESYSTEMID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"STAGEDATABASENAME"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"STAGESCHEMANAME"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"STAGETABLENAME"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDATABASENAME"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSCHEMANAME"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTABLENAME"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCESYSTEMNAME"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"ISRESTRICTED"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"RESTRICTEDCOLUMNNAME"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"RESTRICTEDTABLENAME"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"EXPRESSIONS"}}}},"visible":true,"status":{},"columnNames":[]},"10":{"slot":10,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false,"status":{},"columnNames":[]},"11":{"slot":11,"name":"Order By","elements":{},"visible":false,"status":{},"columnNames":[]},"12":{"slot":12,"name":"Sort","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Ascending"}}}},"visible":false,"status":{},"columnNames":[]},"20":{"slot":20,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false,"status":{},"columnNames":[]}},"validationStatus":{},"status":{},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"255815":{"id":255815,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":64,"y":-16,"width":32,"height":32,"inputConnectorIDs":[255825],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true,"status":{},"columnNames":[]}},"validationStatus":{},"status":{},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"255817":{"id":255817,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-320,"y":160,"width":32,"height":32,"inputConnectorIDs":[255833],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 1"}}}},"visible":true,"status":{},"columnNames":[]}},"validationStatus":{},"status":{},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"255818":{"id":255818,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":-128,"y":-16,"width":32,"height":16,"inputConnectorIDs":[255824],"outputSuccessConnectorIDs":[255825],"outputFailureConnectorIDs":[255834],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Loop sourcesystem parameter List -Stage"}}}},"visible":true,"status":{},"columnNames":[]},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DeleteProcess"}}}},"visible":true,"status":{},"columnNames":[]},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemId"},"2":{"slot":2,"type":"STRING","value":"SourceSystemId"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"StageDatabaseName"},"2":{"slot":2,"type":"STRING","value":"StageDatabaseName"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"StageSchemaName"},"2":{"slot":2,"type":"STRING","value":"StageSchemaName"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"StageTableName"},"2":{"slot":2,"type":"STRING","value":"StageTableName"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"ODSDatabaseName"},"2":{"slot":2,"type":"STRING","value":"ODSDatabaseName"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"ODSSchemaName"},"2":{"slot":2,"type":"STRING","value":"ODSSchemaName"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"ODSTableName"},"2":{"slot":2,"type":"STRING","value":"ODSTableName"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemName"},"2":{"slot":2,"type":"STRING","value":"SourceSystemName"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"IsRestricted"},"2":{"slot":2,"type":"STRING","value":"IsRestricted"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"RestrictedTablename"},"2":{"slot":2,"type":"STRING","value":"RestrictedTablename"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"RestrictedColumnName"},"2":{"slot":2,"type":"STRING","value":"RestrictedColumnName"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"Expressions"},"2":{"slot":2,"type":"STRING","value":"Expressions"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"SourceSystemName"},"2":{"slot":2,"type":"STRING","value":"SourceSchemaName"}}}},"visible":true,"status":{},"columnNames":[]},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true,"status":{},"columnNames":[]},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true,"status":{},"columnNames":[]},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true,"status":{},"columnNames":[]}},"validationStatus":{},"status":{},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[255837],"inputIterationConnectorIDs":[]},"255819":{"id":255819,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-128,"y":16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Build Restricted Delete SQL"}}}},"visible":true,"status":{},"columnNames":[]},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible:\n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Udating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0] FULL PULL\n###\n# RestrictedColumnName='C1,C2'\nif IsRestricted == 'true':\n    \tcmd = \" Delete from \"+StageDatabaseName+\".\"+StageSchemaName+\".\"+StageTableName +\" where \" +RestrictedColumnName + \" IN ( \"+ \\\n        Expressions +\")\"\n        print(cmd)\n    \tcursor = context.cursor()\n    \tcursor.execute(cmd)"}}}},"visible":true,"status":{},"columnNames":[]},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true,"status":{},"columnNames":[]},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false,"status":{},"columnNames":[]}},"validationStatus":{},"status":{},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[255837]},"255822":{"id":255822,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-128,"y":160,"width":32,"height":32,"inputConnectorIDs":[255834],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 2"}}}},"visible":true,"status":{},"columnNames":[]}},"validationStatus":{},"status":{},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"255824":{"id":255824,"sourceID":255812,"targetID":255818},"255825":{"id":255825,"sourceID":255818,"targetID":255815}},"failureConnectors":{"255833":{"id":255833,"sourceID":255812,"targetID":255817},"255834":{"id":255834,"sourceID":255818,"targetID":255822}},"unconditionalConnectors":{"259459":{"id":259459,"sourceID":255811,"targetID":255812}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"255837":{"id":255837,"sourceID":255818,"targetID":255819}},"noteConnectors":{},"canUndo":true,"undoCommand":"Rename Job","undoCreated":1607505067036,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{},"variables":{"StageType":{"definition":{"name":"StageType","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"FULL LOAD"},"Expressions":{"definition":{"name":"Expressions","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"SELECT CUSTOMER_ID from ODS_GRS_NO.DBO.CUSTOMER_RESTRICTED_DATA"},"IsRestricted":{"definition":{"name":"IsRestricted","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"TRUE"},"ODSTableName":{"definition":{"name":"ODSTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"CUSTOMER"},"CSVFileFormat":{"definition":{"name":"CSVFileFormat","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS_FileData_20.*"},"ContainerName":{"definition":{"name":"ContainerName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"wh-outbound-unzipped"},"ODSSchemaName":{"definition":{"name":"ODSSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBO"},"SourceSystemId":{"definition":{"name":"SourceSystemId","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"3"},"StageTableName":{"definition":{"name":"StageTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"CUSTOMER"},"ODSDatabaseName":{"definition":{"name":"ODSDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"ODS_KONTROLSYS_NO"},"StageSchemaName":{"definition":{"name":"StageSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBO"},"SourceSchemaName":{"definition":{"name":"SourceSchemaName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"DBO"},"SourceSystemName":{"definition":{"name":"SourceSystemName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"KONTROLSYS"},"StageDatabaseName":{"definition":{"name":"StageDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"STG_KONTROLSYS_NO"},"RestrictedTablename":{"definition":{"name":"RestrictedTablename","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"CUSTOMER_RESTRICTED_DATA"},"RestrictedColumnName":{"definition":{"name":"RestrictedColumnName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"CUSTOMER_ID"}},"grids":{"DeleteProcess":{"definition":{"name":"DeleteProcess","scope":"BRANCH","definitions":[{"name":"SourceSystemId","type":"DECIMAL"},{"name":"StageDatabaseName","type":"TEXT"},{"name":"StageSchemaName","type":"TEXT"},{"name":"StageTableName","type":"TEXT"},{"name":"ODSDatabaseName","type":"TEXT"},{"name":"ODSSchemaName","type":"TEXT"},{"name":"ODSTableName","type":"TEXT"},{"name":"SourceSystemName","type":"TEXT"},{"name":"IsRestricted","type":"TEXT"},{"name":"RestrictedColumnName","type":"TEXT"},{"name":"RestrictedTablename","type":"TEXT"},{"name":"Expressions","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[]}}}},"transformationJobs":{}}],"version":"1.47.9","environment":"snowflake"}